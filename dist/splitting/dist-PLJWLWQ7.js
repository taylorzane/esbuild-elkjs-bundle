import{$ as Z,A as Gt,B as W,C as A,D as G,E as B,F as Le,G as Re,H as kt,I as Ft,J as Tt,K as Ae,L as D,M as Ot,N as Mt,O as Wt,P as Bt,Q as R,R as Dt,S as m,T as k,U as h,V as b,W as St,X as _,Y as Ee,Z as Pe,_ as Yt,a as xt,aa as Ht,b as C,ba as J,c as bt,ca as Vt,d as we,da as Ut,e as Ue,ea as Q,f as V,fa as jt,g as yt,ga as qt,h as X,i as vt,ia as zt,j as Lt,k as L,l as Rt,m as xe,n as be,o as At,p as K,q as Et,r as Pt,s as je,t as Nt,u as U,v as $,w as It,x as ye,y as Ct,z as ve}from"./chunk-X4Q5BNTH.js";import"./chunk-DQW7DUIU.js";function Fr(e,t){var n={};return t=A(t,3),At(e,function(r,o,i){Ee(n,o,t(r,o,i))}),n}var ee=Fr;function Tr(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var j=Tr;function Or(e,t,n){if(!L(n))return!1;var r=typeof t;return(r=="number"?xe(n)&&X(t,n.length):r=="string"&&t in n)?K(n[t],e):!1}var F=Or;var Xt=Object.prototype,Mr=Xt.hasOwnProperty,Wr=D(function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&F(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],f=Z(i),s=-1,a=f.length;++s<a;){var u=f[s],d=e[u];(d===void 0||K(d,Xt[u])&&!Mr.call(e,u))&&(e[u]=i[u])}return e}),Kt=Wr;function Br(e,t,n,r){if(!L(e))return e;t=ye(t,e);for(var o=-1,i=t.length,f=i-1,s=e;s!=null&&++o<i;){var a=Ct(t[o]),u=n;if(a==="__proto__"||a==="constructor"||a==="prototype")return e;if(o!=f){var d=s[a];u=r?r(d,a,s):void 0,u===void 0&&(u=L(d)?d:X(t[o+1])?[]:{})}Pe(s,a,u),s=s[a]}return e}var $t=Br;function Dr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var f=t[r],s=ve(e,f);n(s,f)&&$t(i,ye(f,e),s)}return i}var Zt=Dr;function Sr(e,t){return Zt(e,t,function(n,r){return Gt(e,r)})}var Jt=Sr;function Yr(e){var t=e==null?0:e.length;return t?Le(e,1):[]}var P=Yr;function Hr(e){return Ae(kt(e,void 0,P),e+"")}var Qt=Hr;var Vr=Qt(function(e,t){return e==null?{}:Jt(e,t)}),te=Vr;function Ur(e,t,n){(n!==void 0&&!K(e[t],n)||n===void 0&&!(t in e))&&Ee(e,t,n)}var ae=Ur;var jr="[object Object]",qr=Function.prototype,zr=Object.prototype,en=qr.toString,Xr=zr.hasOwnProperty,Kr=en.call(Object);function $r(e){if(!we(e)||bt(e)!=jr)return!1;var t=Vt(e);if(t===null)return!0;var n=Xr.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&en.call(n)==Kr}var tn=$r;function Zr(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ue=Zr;function Jr(e){return Yt(e,Z(e))}var nn=Jr;function Qr(e,t,n,r,o,i,f){var s=ue(e,n),a=ue(t,n),u=f.get(a);if(u){ae(e,n,u);return}var d=i?i(s,a,n+"",e,t,f):void 0,c=d===void 0;if(c){var p=V(a),l=!p&&yt(a),w=!p&&!l&&Lt(a);d=a,p||l||w?V(s)?d=s:Bt(s)?d=J(s):l?(c=!1,d=Ht(a,!0)):w?(c=!1,d=Ut(a,!0)):d=[]:tn(a)||Ue(a)?(d=s,Ue(s)?d=nn(s):(!L(s)||Rt(s))&&(d=jt(a))):c=!1}c&&(f.set(a,d),o(d,a,r,i,f),f.delete(a)),ae(e,n,d)}var rn=Qr;function on(e,t,n,r,o){e!==t&&xt(t,function(i,f){if(o||(o=new Et),L(i))rn(e,t,f,n,on,r,o);else{var s=r?r(ue(e,f),i,f+"",e,t,o):void 0;s===void 0&&(s=i),ae(e,f,s)}},Z)}var fn=on;function eo(e){return D(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,f=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,f&&F(n[0],n[1],f)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}var sn=eo;var to=sn(function(e,t,n){fn(e,t,n)}),de=to;var no=0;function ro(e){var t=++no;return It(e)+t}var ne=ro;var oo=Math.ceil,io=Math.max;function fo(e,t,n,r){for(var o=-1,i=io(oo((t-e)/(n||1)),0),f=Array(i);i--;)f[r?i:++o]=e,e+=n;return f}var an=fo;var so=/\s/;function ao(e){for(var t=e.length;t--&&so.test(e.charAt(t)););return t}var un=ao;var uo=/^\s+/;function mo(e){return e&&e.slice(0,un(e)+1).replace(uo,"")}var dn=mo;var mn=NaN,co=/^[-+]0x[0-9a-f]+$/i,po=/^0b[01]+$/i,lo=/^0o[0-7]+$/i,ho=parseInt;function _o(e){if(typeof e=="number")return e;if(U(e))return mn;if(L(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=L(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=dn(e);var n=po.test(e);return n||lo.test(e)?ho(e.slice(2),n?2:8):co.test(e)?mn:+e}var cn=_o;var pn=1/0,go=17976931348623157e292;function wo(e){if(!e)return e===0?e:0;if(e=cn(e),e===pn||e===-pn){var t=e<0?-1:1;return t*go}return e===e?e:0}var re=wo;function xo(e){return function(t,n,r){return r&&typeof r!="number"&&F(t,n,r)&&(n=r=void 0),t=re(t),n===void 0?(n=t,t=0):n=re(n),r=r===void 0?t<n?1:-1:re(r),an(t,n,r,e)}}var ln=xo;var bo=ln(),N=bo;function me(){let e={};e._next=e._prev=e,this._sentinel=e}me.prototype.dequeue=function(){let e=this._sentinel,t=e._prev;if(t!==e)return hn(t),t};me.prototype.enqueue=function(e){let t=this._sentinel;e._prev&&e._next&&hn(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};me.prototype.toString=function(){let e=[],t=this._sentinel,n=t._prev;for(;n!==t;)e.push(JSON.stringify(n,yo)),n=n._prev;return"["+e.join(", ")+"]"};function hn(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function yo(e,t){if(e!=="_next"&&e!=="_prev")return t}var vo=Ft(1);function _n(e,t){if(e.nodeCount()<=1)return[];let n=Ro(e,t||vo),r=Lo(n.graph,n.buckets,n.zeroIdx);return P(_(r,function(o){return e.outEdges(o.v,o.w)}),!0)}function Lo(e,t,n){let r=[],o=t[t.length-1],i=t[0],f;for(;e.nodeCount();){for(;f=i.dequeue();)qe(e,t,n,f);for(;f=o.dequeue();)qe(e,t,n,f);if(e.nodeCount()){for(let s=t.length-2;s>0;--s)if(f=t[s].dequeue(),f){r=r.concat(qe(e,t,n,f,!0));break}}}return r}function qe(e,t,n,r,o){let i=o?[]:void 0;return m(e.inEdges(r.v),function(f){let s=e.edge(f),a=e.node(f.v);o&&i.push({v:f.v,w:f.w}),a.out-=s,ze(t,n,a)}),m(e.outEdges(r.v),function(f){let s=e.edge(f),a=f.w,u=e.node(a);u.in-=s,ze(t,n,u)}),e.removeNode(r.v),i}function Ro(e,t){let n=new b,r=0,o=0;m(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),m(e.edges(),function(s){let a=n.edge(s.v,s.w)||0,u=t(s),d=a+u;n.setEdge(s.v,s.w,d),o=Math.max(o,n.node(s.v).out+=u),r=Math.max(r,n.node(s.w).in+=u)});let i=N(o+r+3).map(function(){return new me}),f=r+1;return m(n.nodes(),function(s){ze(i,f,n.node(s))}),{graph:n,buckets:i,zeroIdx:f}}function ze(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}function Ao(e){let t=e.graph().acyclicer==="greedy"?_n(e,n(e)):Eo(e);m(t,function(r){let o=e.edge(r);e.removeEdge(r),o.forwardName=r.name,o.reversed=!0,e.setEdge(r.w,r.v,o,ne("rev"))});function n(r){return function(o){return r.edge(o).weight}}}function Eo(e){let t=[],n={},r={};function o(i){h(r,i)||(r[i]=!0,n[i]=!0,m(e.outEdges(i),function(f){h(n,f.w)?t.push(f):o(f.w)}),delete n[i])}return m(e.nodes(),o),t}function Po(e){m(e.edges(),function(t){let n=e.edge(t);if(n.reversed){e.removeEdge(t);let r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var Xe={run:Ao,undo:Po};var No=function(){return C.Date.now()},Ke=No;function Io(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],f=t(i);if(f!=null&&(s===void 0?f===f&&!U(f):n(f,s)))var s=f,a=i}return a}var S=Io;function Co(e,t){return e>t}var Ne=Co;function Go(e){return e&&e.length?S(e,W,Ne):void 0}var I=Go;function ko(e,t){return e<t}var Ie=ko;function Fo(e){return e&&e.length?S(e,W,Ie):void 0}var Y=Fo;function To(e,t,n){for(var r=-1,o=e.length,i=t.length,f={};++r<o;){var s=r<i?t[r]:void 0;n(f,e[r],s)}return f}var gn=To;function Oo(e,t){return gn(e||[],t||[],Pe)}var ce=Oo;function wn(e,t,n,r){let o;do o=ne(r);while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function $e(e){let t=new b().setGraph(e.graph());return m(e.nodes(),function(n){t.setNode(n,e.node(n))}),m(e.edges(),function(n){let r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),t}function Mo(e){let t=new b({multigraph:e.isMultigraph()}).setGraph(e.graph());return m(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),m(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function Wo(e){let t=_(e.nodes(),function(n){let r={};return m(e.outEdges(n),function(o){r[o.w]=(r[o.w]||0)+e.edge(o).weight}),r});return ce(e.nodes(),t)}function Bo(e){let t=_(e.nodes(),function(n){let r={};return m(e.inEdges(n),function(o){r[o.v]=(r[o.v]||0)+e.edge(o).weight}),r});return ce(e.nodes(),t)}function Do(e,t){let n=e.x,r=e.y,o=t.x-n,i=t.y-r,f=e.width/2,s=e.height/2;if(!o&&!i)throw new Error("Not possible to find intersection inside of the rectangle");let a,u;return Math.abs(i)*f>Math.abs(o)*s?(i<0&&(s=-s),a=s*o/i,u=s):(o<0&&(f=-f),a=f,u=f*i/o),{x:n+a,y:r+u}}function So(e){let t=_(N(xn(e)+1),function(){return[]});return m(e.nodes(),function(n){let r=e.node(n),o=r.rank;R(o)||(t[o][r.order]=n)}),t}function Ze(e){let t=Y(_(e.nodes(),function(n){return e.node(n).rank}));m(e.nodes(),function(n){let r=e.node(n);h(r,"rank")&&(r.rank-=t)})}function Je(e){let t=Y(_(e.nodes(),function(i){return e.node(i).rank})),n=[];m(e.nodes(),function(i){let f=e.node(i).rank-t;n[f]||(n[f]=[]),n[f].push(i)});let r=0,o=e.graph().nodeRankFactor;m(n,function(i,f){R(i)&&f%o!==0?--r:r&&m(i,function(s){e.node(s).rank+=r})})}function Yo(e,t,n,r){let o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),wn(e,"border",o,t)}function xn(e){return I(_(e.nodes(),function(t){let n=e.node(t).rank;if(!R(n))return n}))}function Ho(e,t){let n={lhs:[],rhs:[]};return m(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function Vo(e,t){let n=Ke();try{return t()}finally{console.log(e+" time: "+(Ke()-n)+"ms")}}function Uo(e,t){return t()}var g={addDummyNode:wn,simplify:$e,asNonCompoundGraph:Mo,successorWeights:Wo,predecessorWeights:Bo,intersectRect:Do,buildLayerMatrix:So,normalizeRanks:Ze,removeEmptyRanks:Je,addBorderNode:Yo,maxRank:xn,partition:Ho,time:Vo,notime:Uo};function jo(e){e.graph().dummyChains=[],m(e.edges(),function(t){qo(e,t)})}function qo(e,t){let n=t.v,r=e.node(n).rank,o=t.w,i=e.node(o).rank,f=t.name,s=e.edge(t),a=s.labelRank;if(i===r+1)return;e.removeEdge(t);let u,d,c;for(c=0,++r;r<i;++c,++r)s.points=[],d={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},u=g.addDummyNode(e,"edge",d,"_d"),r===a&&(d.width=s.width,d.height=s.height,d.dummy="edge-label",d.labelpos=s.labelpos),e.setEdge(n,u,{weight:s.weight},f),c===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,o,{weight:s.weight},f)}function zo(e){m(e.graph().dummyChains,function(t){let n=e.node(t),r=n.edgeLabel,o=null;for(e.setEdge(n.edgeObj,r);n.dummy;)o=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=o,n=e.node(t)})}var Qe={run:jo,undo:zo};function pe(e){let t={};function n(r){let o=e.node(r);if(h(t,r))return o.rank;t[r]=!0;let i=Y(_(e.outEdges(r),function(f){return n(f.w)-e.edge(f).minlen}))||0;return o.rank=i}m(e.sources(),n)}function q(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function Xo(e,t){return e&&e.length?S(e,A(t,2),Ie):void 0}var z=Xo;function Ce(e){let t=new b({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});let o,i;for(;Ko(t,e)<r;)o=$o(t,e),i=t.hasNode(o.v)?q(e,o):-q(e,o),Zo(t,e,i);return t}function Ko(e,t){function n(r){m(t.nodeEdges(r),function(o){let i=o.v,f=r===i?o.w:i;!e.hasNode(f)&&!q(t,o)&&(e.setNode(f,{}),e.setEdge(r,f,{}),n(f))})}return m(e.nodes(),n),e.nodeCount()}function $o(e,t){return z(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return q(t,n)})}function Zo(e,t,n){m(e.nodes(),function(r){t.node(r).rank+=n})}function Jo(e){return function(t,n,r){var o=Object(t);if(!xe(t)){var i=A(n,3);t=be(t),n=function(s){return i(o[s],s,o)}}var f=e(t,n,r);return f>-1?o[i?t[f]:f]:void 0}}var bn=Jo;function Qo(e){var t=re(e),n=t%1;return t===t?n?t-n:t:0}var le=Qo;var ei=Math.max;function ti(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:le(n);return o<0&&(o=ei(r+o,0)),Ot(e,A(t,3),o)}var yn=ti;var ni=bn(yn),he=ni;var{preorder:ri,postorder:oi}=zt;H.initLowLimValues=tt;H.initCutValues=et;H.calcCutValue=Ln;H.leaveEdge=An;H.enterEdge=En;H.exchangeEdges=Pn;function H(e){e=$e(e),pe(e);let t=Ce(e);tt(t),et(t,e);let n,r;for(;n=An(t);)r=En(t,e,n),Pn(t,e,n,r)}function et(e,t){let n=oi(e,e.nodes());n=n.slice(0,n.length-1),m(n,function(r){ii(e,t,r)})}function ii(e,t,n){let o=e.node(n).parent;e.edge(n,o).cutvalue=Ln(e,t,n)}function Ln(e,t,n){let o=e.node(n).parent,i=!0,f=t.edge(n,o),s=0;return f||(i=!1,f=t.edge(o,n)),s=f.weight,m(t.nodeEdges(n),function(a){let u=a.v===n,d=u?a.w:a.v;if(d!==o){let c=u===i,p=t.edge(a).weight;if(s+=c?p:-p,si(e,n,d)){let l=e.edge(n,d).cutvalue;s+=c?-l:l}}}),s}function tt(e,t){arguments.length<2&&(t=e.nodes()[0]),Rn(e,{},1,t)}function Rn(e,t,n,r,o){let i=n,f=e.node(r);return t[r]=!0,m(e.neighbors(r),function(s){h(t,s)||(n=Rn(e,t,n,s,r))}),f.low=i,f.lim=n++,o?f.parent=o:delete f.parent,n}function An(e){return he(e.edges(),function(t){return e.edge(t).cutvalue<0})}function En(e,t,n){let r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);let i=e.node(r),f=e.node(o),s=i,a=!1;i.lim>f.lim&&(s=f,a=!0);let u=k(t.edges(),function(d){return a===vn(e,e.node(d.v),s)&&a!==vn(e,e.node(d.w),s)});return z(u,function(d){return q(t,d)})}function Pn(e,t,n,r){let o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),tt(e),et(e,t),fi(e,t)}function fi(e,t){let n=he(e.nodes(),function(o){return!t.node(o).parent}),r=ri(e,n);r=r.slice(1),m(r,function(o){let i=e.node(o).parent,f=t.edge(o,i),s=!1;f||(f=t.edge(i,o),s=!0),t.node(o).rank=t.node(i).rank+(s?f.minlen:-f.minlen)})}function si(e,t,n){return e.hasEdge(t,n)}function vn(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}function In(e){switch(e.graph().ranker){case"network-simplex":Nn(e);break;case"tight-tree":ui(e);break;case"longest-path":ai(e);break;default:Nn(e)}}var ai=pe;function ui(e){pe(e),Ce(e)}function Nn(e){H(e)}function Cn(e){let t=mi(e);m(e.graph().dummyChains,function(n){let r=e.node(n),o=r.edgeObj,i=di(e,t,o.v,o.w),f=i.path,s=i.lca,a=0,u=f[a],d=!0;for(;n!==o.w;){if(r=e.node(n),d){for(;(u=f[a])!==s&&e.node(u).maxRank<r.rank;)a++;u===s&&(d=!1)}if(!d){for(;a<f.length-1&&e.node(u=f[a+1]).minRank<=r.rank;)a++;u=f[a]}e.setParent(n,u),n=e.successors(n)[0]}})}function di(e,t,n,r){let o=[],i=[],f=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),a,u;a=n;do a=e.parent(a),o.push(a);while(a&&(t[a].low>f||s>t[a].lim));for(u=a,a=r;(a=e.parent(a))!==u;)i.push(a);return{path:o.concat(i.reverse()),lca:u}}function mi(e){let t={},n=0;function r(o){let i=n;m(e.children(o),r),t[o]={low:i,lim:n++}}return m(e.children(),r),t}function ci(e){let t=g.addDummyNode(e,"root",{},"_root"),n=pi(e),r=I(B(n))-1,o=2*r+1;e.graph().nestingRoot=t,m(e.edges(),function(f){e.edge(f).minlen*=o});let i=li(e)+1;m(e.children(),function(f){Gn(e,t,o,i,r,n,f)}),e.graph().nodeRankFactor=o}function Gn(e,t,n,r,o,i,f){let s=e.children(f);if(!s.length){f!==t&&e.setEdge(t,f,{weight:0,minlen:n});return}let a=g.addBorderNode(e,"_bt"),u=g.addBorderNode(e,"_bb"),d=e.node(f);e.setParent(a,f),d.borderTop=a,e.setParent(u,f),d.borderBottom=u,m(s,function(c){Gn(e,t,n,r,o,i,c);let p=e.node(c),l=p.borderTop?p.borderTop:c,w=p.borderBottom?p.borderBottom:c,x=p.borderTop?r:2*r,y=l!==w?1:o-i[f]+1;e.setEdge(a,l,{weight:x,minlen:y,nestingEdge:!0}),e.setEdge(w,u,{weight:x,minlen:y,nestingEdge:!0})}),e.parent(f)||e.setEdge(t,a,{weight:0,minlen:o+i[f]})}function pi(e){let t={};function n(r,o){let i=e.children(r);i&&i.length&&m(i,function(f){n(f,o+1)}),t[r]=o}return m(e.children(),function(r){n(r,1)}),t}function li(e){return G(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function hi(e){let t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,m(e.edges(),function(n){e.edge(n).nestingEdge&&e.removeEdge(n)})}var nt={run:ci,cleanup:hi};function Fn(e){function t(n){let r=e.children(n),o=e.node(n);if(r.length&&m(r,t),h(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(let i=o.minRank,f=o.maxRank+1;i<f;++i)kn(e,"borderLeft","_bl",n,o,i),kn(e,"borderRight","_br",n,o,i)}}m(e.children(),t)}function kn(e,t,n,r,o,i){let f={width:0,height:0,rank:i,borderType:t},s=o[t][i-1],a=g.addDummyNode(e,"border",f,n);o[t][i]=a,e.setParent(a,r),s&&e.setEdge(s,a,{weight:1})}function _i(e){let t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&On(e)}function gi(e){let t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&wi(e),(t==="lr"||t==="rl")&&(xi(e),On(e))}function On(e){m(e.nodes(),function(t){Tn(e.node(t))}),m(e.edges(),function(t){Tn(e.edge(t))})}function Tn(e){let t=e.width;e.width=e.height,e.height=t}function wi(e){m(e.nodes(),function(t){rt(e.node(t))}),m(e.edges(),function(t){let n=e.edge(t);m(n.points,rt),h(n,"y")&&rt(n)})}function rt(e){e.y=-e.y}function xi(e){m(e.nodes(),function(t){ot(e.node(t))}),m(e.edges(),function(t){let n=e.edge(t);m(n.points,ot),h(n,"x")&&ot(n)})}function ot(e){let t=e.x;e.x=e.y,e.y=t}var it={adjust:_i,undo:gi};var bi=1,yi=4;function vi(e){return qt(e,bi|yi)}var Mn=vi;function Li(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Wn=Li;function Ri(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=U(e),f=t!==void 0,s=t===null,a=t===t,u=U(t);if(!s&&!u&&!i&&e>t||i&&f&&a&&!s&&!u||r&&f&&a||!n&&a||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||s&&n&&o||!f&&o||!a)return-1}return 0}var Bn=Ri;function Ai(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,f=o.length,s=n.length;++r<f;){var a=Bn(o[r],i[r]);if(a){if(r>=s)return a;var u=n[r];return a*(u=="desc"?-1:1)}}return e.index-t.index}var Dn=Ai;function Ei(e,t,n){t.length?t=$(t,function(i){return V(i)?function(f){return ve(f,i.length===1?i[0]:i)}:i}):t=[W];var r=-1;t=$(t,vt(A));var o=St(e,function(i,f,s){var a=$(t,function(u){return u(i)});return{criteria:a,index:++r,value:i}});return Wn(o,function(i,f){return Dn(i,f,n)})}var Sn=Ei;var Pi=D(function(e,t){if(e==null)return[];var n=t.length;return n>1&&F(e,t[0],t[1])?t=[]:n>2&&F(t[0],t[1],t[2])&&(t=[t[0]]),Sn(e,Le(t,1),[])}),T=Pi;function Yn(e){let t={},n=k(e.nodes(),function(s){return!e.children(s).length}),r=I(_(n,function(s){return e.node(s).rank})),o=_(N(r+1),function(){return[]});function i(s){if(h(t,s))return;t[s]=!0;let a=e.node(s);o[a.rank].push(s),m(e.successors(s),i)}let f=T(n,function(s){return e.node(s).rank});return m(f,i),o}function Hn(e,t){let n=0;for(let r=1;r<t.length;++r)n+=Ni(e,t[r-1],t[r]);return n}function Ni(e,t,n){let r=ce(n,_(n,function(u,d){return d})),o=P(_(t,function(u){let d=e.outEdges(u),c=_(d,l=>({pos:r[l.w],weight:e.edge(l).weight}));return T(c,"pos")}),!0),i=1;for(;i<n.length;)i<<=1;let f=2*i-1;i-=1;let s=_(new Array(f),function(){return 0}),a=0;return m(o.forEach(function(u){let d=u.pos+i;s[d]+=u.weight;let c=0;for(;d>0;)d%2&&(c+=s[d+1]),d=d-1>>1,s[d]+=u.weight;a+=u.weight*c})),a}function Vn(e,t){return _(t,function(n){let r=e.inEdges(n);if(r.length){let o=G(r,function(i,f){let s=e.edge(f),a=e.node(f.v);return{sum:i.sum+s.weight*a.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:n}})}function Un(e,t){let n={};m(e,function(o,i){let f=n[o.v]={indegree:0,in:[],out:[],vs:[o.v],i};R(o.barycenter)||(f.barycenter=o.barycenter,f.weight=o.weight)}),m(t.edges(),function(o){let i=n[o.v],f=n[o.w];!R(i)&&!R(f)&&(f.indegree++,i.out.push(n[o.w]))});let r=k(n,function(o){return!o.indegree});return Ii(r)}function Ii(e){let t=[];function n(i){return function(f){f.merged||(R(f.barycenter)||R(i.barycenter)||f.barycenter>=i.barycenter)&&Ci(i,f)}}function r(i){return function(f){f.in.push(i),--f.indegree===0&&e.push(f)}}for(;e.length;){let i=e.pop();t.push(i),m(i.in.reverse(),n(i)),m(i.out,r(i))}let o=k(t,function(i){return!i.merged});return _(o,function(i){return te(i,["vs","i","barycenter","weight"])})}function Ci(e,t){let n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}function qn(e,t){let n=g.partition(e,function(d){return h(d,"barycenter")}),r=n.lhs,o=T(n.rhs,function(d){return-d.i}),i=[],f=0,s=0,a=0;r.sort(Gi(!!t)),a=jn(i,o,a),m(r,function(d){a+=d.vs.length,i.push(d.vs),f+=d.barycenter*d.weight,s+=d.weight,a=jn(i,o,a)});let u={vs:P(i,!0)};return s&&(u.barycenter=f/s,u.weight=s),u}function jn(e,t,n){let r;for(;t.length&&(r=j(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function Gi(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}function ft(e,t,n,r){let o=e.children(t),i=e.node(t),f=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,a={};f&&(o=k(o,function(p){return p!==f&&p!==s}));let u=Vn(e,o);m(u,function(p){if(e.children(p.v).length){let l=ft(e,p.v,n,r);a[p.v]=l,h(l,"barycenter")&&Fi(p,l)}});let d=Un(u,n);ki(d,a);let c=qn(d,r);if(f&&(c.vs=P([f,c.vs,s],!0),e.predecessors(f).length)){let p=e.node(e.predecessors(f)[0]),l=e.node(e.predecessors(s)[0]);h(c,"barycenter")||(c.barycenter=0,c.weight=0),c.barycenter=(c.barycenter*c.weight+p.order+l.order)/(c.weight+2),c.weight+=2}return c}function ki(e,t){m(e,function(n){n.vs=P(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function Fi(e,t){R(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}function zn(e,t,n){let r=Ti(e),o=new b({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(i){return e.node(i)});return m(e.nodes(),function(i){let f=e.node(i),s=e.parent(i);(f.rank===t||f.minRank<=t&&t<=f.maxRank)&&(o.setNode(i),o.setParent(i,s||r),m(e[n](i),function(a){let u=a.v===i?a.w:a.v,d=o.edge(u,i),c=R(d)?0:d.weight;o.setEdge(u,i,{weight:e.edge(a).weight+c})}),h(f,"minRank")&&o.setNode(i,{borderLeft:f.borderLeft[t],borderRight:f.borderRight[t]}))}),o}function Ti(e){let t;for(;e.hasNode(t=ne("_root")););return t}function Xn(e,t,n){let r={},o;m(n,function(i){let f=e.parent(i),s,a;for(;f;){if(s=e.parent(f),s?(a=r[s],r[s]=f):(a=o,o=f),a&&a!==f){t.setEdge(a,f);return}f=s}})}function Zn(e){let t=g.maxRank(e),n=Kn(e,N(1,t+1),"inEdges"),r=Kn(e,N(t-1,-1,-1),"outEdges"),o=Yn(e);$n(e,o);let i=Number.POSITIVE_INFINITY,f;for(let s=0,a=0;a<4;++s,++a){Oi(s%2?n:r,s%4>=2),o=g.buildLayerMatrix(e);let u=Hn(e,o);u<i&&(a=0,f=Mn(o),i=u)}$n(e,f)}function Kn(e,t,n){return _(t,function(r){return zn(e,r,n)})}function Oi(e,t){let n=new b;m(e,function(r){let o=r.graph().root,i=ft(r,o,n,t);m(i.vs,function(f,s){r.node(f).order=s}),Xn(r,n,i.vs)})}function $n(e,t){m(t,function(n){m(n,function(r,o){e.node(r).order=o})})}var Mi=je&&new je,oe=Mi;var Wi=oe?function(e,t){return oe.set(e,t),e}:W,Ge=Wi;function Bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Q(e.prototype),r=e.apply(n,t);return L(r)?r:n}}var O=Bi;var Di=1;function Si(e,t,n){var r=t&Di,o=O(e);function i(){var f=this&&this!==C&&this instanceof i?o:e;return f.apply(r?n:this,arguments)}return i}var Jn=Si;var Yi=Math.max;function Hi(e,t,n,r){for(var o=-1,i=e.length,f=n.length,s=-1,a=t.length,u=Yi(i-f,0),d=Array(a+u),c=!r;++s<a;)d[s]=t[s];for(;++o<f;)(c||o<i)&&(d[n[o]]=e[o]);for(;u--;)d[s++]=e[o++];return d}var ke=Hi;var Vi=Math.max;function Ui(e,t,n,r){for(var o=-1,i=e.length,f=-1,s=n.length,a=-1,u=t.length,d=Vi(i-s,0),c=Array(d+u),p=!r;++o<d;)c[o]=e[o];for(var l=o;++a<u;)c[l+a]=t[a];for(;++f<s;)(p||o<i)&&(c[l+n[f]]=e[o++]);return c}var Fe=Ui;function ji(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Qn=ji;function qi(){}var ie=qi;var zi=4294967295;function Te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=zi,this.__views__=[]}Te.prototype=Q(ie.prototype);Te.prototype.constructor=Te;var fe=Te;var Xi=oe?function(e){return oe.get(e)}:Wt,Oe=Xi;var Ki={},st=Ki;var $i=Object.prototype,Zi=$i.hasOwnProperty;function Ji(e){for(var t=e.name+"",n=st[t],r=Zi.call(st,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var er=Ji;function Me(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Me.prototype=Q(ie.prototype);Me.prototype.constructor=Me;var _e=Me;function Qi(e){if(e instanceof fe)return e.clone();var t=new _e(e.__wrapped__,e.__chain__);return t.__actions__=J(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var tr=Qi;var ef=Object.prototype,tf=ef.hasOwnProperty;function We(e){if(we(e)&&!V(e)&&!(e instanceof fe)){if(e instanceof _e)return e;if(tf.call(e,"__wrapped__"))return tr(e)}return new _e(e)}We.prototype=ie.prototype;We.prototype.constructor=We;var nr=We;function nf(e){var t=er(e),n=nr[t];if(typeof n!="function"||!(t in fe.prototype))return!1;if(e===n)return!0;var r=Oe(n);return!!r&&e===r[0]}var rr=nf;var rf=Tt(Ge),Be=rf;var of=/\{\n\/\* \[wrapped with (.+)\] \*/,ff=/,? & /;function sf(e){var t=e.match(of);return t?t[1].split(ff):[]}var or=sf;var af=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function uf(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(af,`{
/* [wrapped with `+t+`] */
`)}var ir=uf;var df=1,mf=2,cf=8,pf=16,lf=32,hf=64,_f=128,gf=256,wf=512,xf=[["ary",_f],["bind",df],["bindKey",mf],["curry",cf],["curryRight",pf],["flip",wf],["partial",lf],["partialRight",hf],["rearg",gf]];function bf(e,t){return Dt(xf,function(n){var r="_."+n[0];t&n[1]&&!Mt(e,r)&&e.push(r)}),e.sort()}var fr=bf;function yf(e,t,n){var r=t+"";return Ae(e,ir(r,fr(or(r),n)))}var De=yf;var vf=1,Lf=2,Rf=4,Af=8,sr=32,ar=64;function Ef(e,t,n,r,o,i,f,s,a,u){var d=t&Af,c=d?f:void 0,p=d?void 0:f,l=d?i:void 0,w=d?void 0:i;t|=d?sr:ar,t&=~(d?ar:sr),t&Rf||(t&=~(vf|Lf));var x=[e,t,o,l,c,w,p,s,a,u],y=n.apply(void 0,x);return rr(e)&&Be(y,x),y.placeholder=r,De(y,e,t)}var Se=Ef;function Pf(e){var t=e;return t.placeholder}var se=Pf;var Nf=Math.min;function If(e,t){for(var n=e.length,r=Nf(t.length,n),o=J(e);r--;){var i=t[r];e[r]=X(i,n)?o[i]:void 0}return e}var ur=If;var dr="__lodash_placeholder__";function Cf(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var f=e[n];(f===t||f===dr)&&(e[n]=dr,i[o++]=n)}return i}var M=Cf;var Gf=1,kf=2,Ff=8,Tf=16,Of=128,Mf=512;function mr(e,t,n,r,o,i,f,s,a,u){var d=t&Of,c=t&Gf,p=t&kf,l=t&(Ff|Tf),w=t&Mf,x=p?void 0:O(e);function y(){for(var E=arguments.length,v=Array(E),He=E;He--;)v[He]=arguments[He];if(l)var gt=se(y),Gr=Qn(v,gt);if(r&&(v=ke(v,r,o,l)),i&&(v=Fe(v,i,f,l)),E-=Gr,l&&E<u){var kr=M(v,gt);return Se(e,t,mr,y.placeholder,n,v,kr,s,a,u-E)}var wt=c?n:this,Ve=p?wt[e]:e;return E=v.length,s?v=ur(v,s):w&&E>1&&v.reverse(),d&&a<E&&(v.length=a),this&&this!==C&&this instanceof y&&(Ve=x||O(Ve)),Ve.apply(wt,v)}return y}var Ye=mr;function Wf(e,t,n){var r=O(e);function o(){for(var i=arguments.length,f=Array(i),s=i,a=se(o);s--;)f[s]=arguments[s];var u=i<3&&f[0]!==a&&f[i-1]!==a?[]:M(f,a);if(i-=u.length,i<n)return Se(e,t,Ye,o.placeholder,void 0,f,u,void 0,void 0,n-i);var d=this&&this!==C&&this instanceof o?r:e;return Re(d,this,f)}return o}var cr=Wf;var Bf=1;function Df(e,t,n,r){var o=t&Bf,i=O(e);function f(){for(var s=-1,a=arguments.length,u=-1,d=r.length,c=Array(d+a),p=this&&this!==C&&this instanceof f?i:e;++u<d;)c[u]=r[u];for(;a--;)c[u++]=arguments[++s];return Re(p,o?n:this,c)}return f}var pr=Df;var lr="__lodash_placeholder__",at=1,Sf=2,Yf=4,hr=8,ge=128,_r=256,Hf=Math.min;function Vf(e,t){var n=e[1],r=t[1],o=n|r,i=o<(at|Sf|ge),f=r==ge&&n==hr||r==ge&&n==_r&&e[7].length<=t[8]||r==(ge|_r)&&t[7].length<=t[8]&&n==hr;if(!(i||f))return e;r&at&&(e[2]=t[2],o|=n&at?0:Yf);var s=t[3];if(s){var a=e[3];e[3]=a?ke(a,s,t[4]):s,e[4]=a?M(e[3],lr):t[4]}return s=t[5],s&&(a=e[5],e[5]=a?Fe(a,s,t[6]):s,e[6]=a?M(e[5],lr):t[6]),s=t[7],s&&(e[7]=s),r&ge&&(e[8]=e[8]==null?t[8]:Hf(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}var gr=Vf;var Uf="Expected a function",wr=1,jf=2,ut=8,dt=16,mt=32,xr=64,br=Math.max;function qf(e,t,n,r,o,i,f,s){var a=t&jf;if(!a&&typeof e!="function")throw new TypeError(Uf);var u=r?r.length:0;if(u||(t&=~(mt|xr),r=o=void 0),f=f===void 0?f:br(le(f),0),s=s===void 0?s:le(s),u-=o?o.length:0,t&xr){var d=r,c=o;r=o=void 0}var p=a?void 0:Oe(e),l=[e,t,n,r,o,d,c,i,f,s];if(p&&gr(l,p),e=l[0],t=l[1],n=l[2],r=l[3],o=l[4],s=l[9]=l[9]===void 0?a?0:e.length:br(l[9]-u,0),!s&&t&(ut|dt)&&(t&=~(ut|dt)),!t||t==wr)var w=Jn(e,t,n);else t==ut||t==dt?w=cr(e,t,s):(t==mt||t==(wr|mt))&&!o.length?w=pr(e,t,n,r):w=Ye.apply(void 0,l);var x=p?Ge:Be;return De(x(w,l),e,t)}var yr=qf;var zf=1,Xf=32,ct=D(function(e,t,n){var r=zf;if(n.length){var o=M(n,se(ct));r|=Xf}return yr(e,r,t,n,o)});ct.placeholder={};var vr=ct;function Kf(e,t){return e&&e.length?S(e,A(t,2),Ne):void 0}var Lr=Kf;function $f(e,t){return $(t,function(n){return[n,e[n]]})}var Rr=$f;function Zf(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=[r,r]}),n}var Ar=Zf;var Jf="[object Map]",Qf="[object Set]";function es(e){return function(t){var n=Nt(t);return n==Jf?Pt(t):n==Qf?Ar(t):Rr(t,e(t))}}var Er=es;var ts=Er(be),pt=ts;function ns(e,t){let n={};function r(o,i){let f=0,s=0,a=o.length,u=j(i);return m(i,function(d,c){let p=os(e,d),l=p?e.node(p).order:a;(p||d===u)&&(m(i.slice(s,c+1),function(w){m(e.predecessors(w),function(x){let y=e.node(x),E=y.order;(E<f||l<E)&&!(y.dummy&&e.node(w).dummy)&&Nr(n,x,w)})}),s=c+1,f=l)}),i}return G(t,r),n}function rs(e,t){let n={};function r(i,f,s,a,u){let d;m(N(f,s),function(c){d=i[c],e.node(d).dummy&&m(e.predecessors(d),function(p){let l=e.node(p);l.dummy&&(l.order<a||l.order>u)&&Nr(n,p,d)})})}function o(i,f){let s=-1,a,u=0;return m(f,function(d,c){if(e.node(d).dummy==="border"){let p=e.predecessors(d);p.length&&(a=e.node(p[0]).order,r(f,u,c,s,a),u=c,s=a)}r(f,u,f.length,a,i.length)}),f}return G(t,o),n}function os(e,t){if(e.node(t).dummy)return he(e.predecessors(t),function(n){return e.node(n).dummy})}function Nr(e,t,n){if(t>n){let o=t;t=n,n=o}let r=e[t];r||(e[t]=r={}),r[n]=!0}function is(e,t,n){if(t>n){let r=t;t=n,n=r}return h(e[t],n)}function fs(e,t,n,r){let o={},i={},f={};return m(t,function(s){m(s,function(a,u){o[a]=a,i[a]=a,f[a]=u})}),m(t,function(s){let a=-1;m(s,function(u){let d=r(u);if(d.length){d=T(d,function(p){return f[p]});let c=(d.length-1)/2;for(let p=Math.floor(c),l=Math.ceil(c);p<=l;++p){let w=d[p];i[u]===u&&a<f[w]&&!is(n,u,w)&&(i[w]=u,i[u]=o[u]=o[w],a=f[w])}}})}),{root:o,align:i}}function ss(e,t,n,r,o){let i={},f=as(e,t,n,o),s={};function a(c){h(s,c)||(s[c]=!0,i[c]=G(f.inEdges(c),function(p,l){return a(l.v),Math.max(p,i[l.v]+f.edge(l))},0))}m(f.nodes(),a);let u=o?"borderLeft":"borderRight";function d(c){if(s[c]!==2){s[c]++;let p=e.node(c),l=G(f.outEdges(c),function(w,x){return d(x.w),Math.min(w,i[x.w]-f.edge(x))},Number.POSITIVE_INFINITY);l!==Number.POSITIVE_INFINITY&&p.borderType!==u&&(i[c]=Math.max(i[c],l))}}return m(f.nodes(),d),m(r,function(c){i[c]=i[n[c]]}),i}function as(e,t,n,r){let o=new b,i=e.graph(),f=cs(i.nodesep,i.edgesep,r);return m(t,function(s){let a;m(s,function(u){let d=n[u];if(o.setNode(d),a){let c=n[a],p=o.edge(c,d);o.setEdge(c,d,Math.max(f(e,u,a),p||0))}a=u})}),o}function us(e,t){return z(B(t),function(n){let r=(z(pt(n),i=>i[1]-Pr(e,i[0])/2)||["k",0])[1];return(Lr(pt(n),i=>i[1]+Pr(e,i[0])/2)||["k",0])[1]-r})}function ds(e,t){let n=B(t),r=Y(n),o=I(n);m(["u","d"],function(i){m(["l","r"],function(f){let s=i+f,a=e[s];if(a===t)return;let u=B(a),d=f==="l"?r-Y(u):o-I(u);d&&(e[s]=ee(a,function(c){return c+d}))})})}function ms(e,t){return ee(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];{let o=T(_(e,r));return(o[1]+o[2])/2}})}function Ir(e){let t=g.buildLayerMatrix(e),n=de(ns(e,t),rs(e,t)),r={},o;m(["u","d"],function(f){o=f==="u"?t:B(t).reverse(),m(["l","r"],function(s){s==="r"&&(o=_(o,function(c){return B(c).reverse()}));let a=vr(f==="u"?e.predecessors:e.successors,e),u=fs(e,o,n,a),d=ss(e,o,u.root,u.align,s==="r");s==="r"&&(d=ee(d,function(c){return-c})),r[f+s]=d})});let i=us(e,r);return ds(r,i),ms(r,e.graph().align)}function cs(e,t,n){return function(r,o,i){let f=r.node(o),s=r.node(i),a=0,u;if(a+=f.width/2,h(f,"labelpos"))switch(f.labelpos.toLowerCase()){case"l":u=-f.width/2;break;case"r":u=f.width/2;break}if(u&&(a+=n?u:-u),u=0,a+=(f.dummy?t:e)/2,a+=(s.dummy?t:e)/2,a+=s.width/2,h(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(a+=n?u:-u),u=0,a}}function Pr(e,t){return e.node(t).width}function Cr(e){e=g.asNonCompoundGraph(e),ps(e),m(Ir(e),function(t,n){e.node(n).x=t})}function ps(e){let t=g.buildLayerMatrix(e),n=e.graph().ranksep,r=0;m(t,function(o){let i=I(_(o,function(f){return e.node(f).height}));m(o,function(f){e.node(f).y=r+i/2}),r+=i+n})}function _t(e,t){let n=t&&t.debugTiming?g.time:g.notime;n("layout",function(){let r=n("  buildLayoutGraph",function(){return Rs(e)});n("  runLayout",function(){ls(r,n)}),n("  updateInputGraph",function(){hs(e,r)})})}function ls(e,t){t("    makeSpaceForEdgeLabels",function(){As(e)}),t("    removeSelfEdges",function(){Ts(e)}),t("    acyclic",function(){Xe.run(e)}),t("    nestingGraph.run",function(){nt.run(e)}),t("    rank",function(){In(g.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){Es(e)}),t("    removeEmptyRanks",function(){Je(e)}),t("    nestingGraph.cleanup",function(){nt.cleanup(e)}),t("    normalizeRanks",function(){Ze(e)}),t("    assignRankMinMax",function(){Ps(e)}),t("    removeEdgeLabelProxies",function(){Ns(e)}),t("    normalize.run",function(){Qe.run(e)}),t("    parentDummyChains",function(){Cn(e)}),t("    addBorderSegments",function(){Fn(e)}),t("    order",function(){Zn(e)}),t("    insertSelfEdges",function(){Os(e)}),t("    adjustCoordinateSystem",function(){it.adjust(e)}),t("    position",function(){Cr(e)}),t("    positionSelfEdges",function(){Ms(e)}),t("    removeBorderNodes",function(){Fs(e)}),t("    normalize.undo",function(){Qe.undo(e)}),t("    fixupEdgeLabelCoords",function(){Gs(e)}),t("    undoCoordinateSystem",function(){it.undo(e)}),t("    translateGraph",function(){Is(e)}),t("    assignNodeIntersects",function(){Cs(e)}),t("    reversePoints",function(){ks(e)}),t("    acyclic.undo",function(){Xe.undo(e)})}function hs(e,t){m(e.nodes(),function(n){let r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))}),m(e.edges(),function(n){let r=e.edge(n),o=t.edge(n);r.points=o.points,h(o,"x")&&(r.x=o.x,r.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var _s=["nodesep","edgesep","ranksep","marginx","marginy"],gs={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ws=["acyclicer","ranker","rankdir","align"],xs=["width","height"],bs={width:0,height:0},ys=["minlen","weight","width","height","labeloffset"],vs={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ls=["labelpos"];function Rs(e){let t=new b({multigraph:!0,compound:!0}),n=ht(e.graph());return t.setGraph(de({},gs,lt(n,_s),te(n,ws))),m(e.nodes(),function(r){let o=ht(e.node(r));t.setNode(r,Kt(lt(o,xs),bs)),t.setParent(r,e.parent(r))}),m(e.edges(),function(r){let o=ht(e.edge(r));t.setEdge(r,de({},vs,lt(o,ys),te(o,Ls)))}),t}function As(e){let t=e.graph();t.ranksep/=2,m(e.edges(),function(n){let r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function Es(e){m(e.edges(),function(t){let n=e.edge(t);if(n.width&&n.height){let r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};g.addDummyNode(e,"edge-proxy",i,"_ep")}})}function Ps(e){let t=0;m(e.nodes(),function(n){let r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Math.max(t,r.maxRank))}),e.graph().maxRank=t}function Ns(e){m(e.nodes(),function(t){let n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function Is(e){let t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,i=e.graph(),f=i.marginx||0,s=i.marginy||0;function a(u){let d=u.x,c=u.y,p=u.width,l=u.height;t=Math.min(t,d-p/2),n=Math.max(n,d+p/2),r=Math.min(r,c-l/2),o=Math.max(o,c+l/2)}m(e.nodes(),function(u){a(e.node(u))}),m(e.edges(),function(u){let d=e.edge(u);h(d,"x")&&a(d)}),t-=f,r-=s,m(e.nodes(),function(u){let d=e.node(u);d.x-=t,d.y-=r}),m(e.edges(),function(u){let d=e.edge(u);m(d.points,function(c){c.x-=t,c.y-=r}),h(d,"x")&&(d.x-=t),h(d,"y")&&(d.y-=r)}),i.width=n-t+f,i.height=o-r+s}function Cs(e){m(e.edges(),function(t){let n=e.edge(t),r=e.node(t.v),o=e.node(t.w),i=null,f=null;n.points?(i=n.points[0],f=n.points[n.points.length-1]):(n.points=[],i=o,f=r),n.points.unshift(g.intersectRect(r,i)),n.points.push(g.intersectRect(o,f))})}function Gs(e){m(e.edges(),function(t){let n=e.edge(t);if(h(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function ks(e){m(e.edges(),function(t){let n=e.edge(t);n.reversed&&n.points.reverse()})}function Fs(e){m(e.nodes(),function(t){if(e.children(t).length){let n=e.node(t),r=e.node(n.borderTop),o=e.node(n.borderBottom),i=e.node(j(n.borderLeft)),f=e.node(j(n.borderRight));n.width=Math.abs(f.x-i.x),n.height=Math.abs(o.y-r.y),n.x=i.x+n.width/2,n.y=r.y+n.height/2}}),m(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function Ts(e){m(e.edges(),function(t){if(t.v===t.w){let n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Os(e){let t=g.buildLayerMatrix(e);m(t,function(n){let r=0;m(n,function(o,i){let f=e.node(o);f.order=i+r,m(f.selfEdges,function(s){g.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:f.rank,order:i+ ++r,e:s.e,label:s.label},"_se")}),delete f.selfEdges})})}function Ms(e){m(e.nodes(),function(t){let n=e.node(t);if(n.dummy==="selfedge"){let r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,f=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*f/3,y:i-s},{x:o+5*f/6,y:i-s},{x:o+f,y:i},{x:o+5*f/6,y:i+s},{x:o+2*f/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})}function lt(e,t){return ee(te(e,t),Number)}function ht(e){let t={};return m(e,function(n,r){t[r.toLowerCase()]=n}),t}var Qh=_t,e_={layout:_t};export{e_ as default,Qh as layout};
