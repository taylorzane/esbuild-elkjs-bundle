import"./chunk-DQW7DUIU.js";function zt(t,n){var e,r=1;t==null&&(t=0),n==null&&(n=0);function i(){var f,l=e.length,a,c=0,o=0;for(f=0;f<l;++f)a=e[f],c+=a.x,o+=a.y;for(c=(c/l-t)*r,o=(o/l-n)*r,f=0;f<l;++f)a=e[f],a.x-=c,a.y-=o}return i.initialize=function(f){e=f},i.x=function(f){return arguments.length?(t=+f,i):t},i.y=function(f){return arguments.length?(n=+f,i):n},i.strength=function(f){return arguments.length?(r=+f,i):r},i}function Z(t){let n=+this._x.call(null,t),e=+this._y.call(null,t);return $(this.cover(n,e),n,e,t)}function $(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,f=t._root,l={data:r},a=t._x0,c=t._y0,o=t._x1,g=t._y1,w,x,h,y,s,u,p,v;if(!f)return t._root=l,t;for(;f.length;)if((s=n>=(w=(a+o)/2))?a=w:o=w,(u=e>=(x=(c+g)/2))?c=x:g=x,i=f,!(f=f[p=u<<1|s]))return i[p]=l,t;if(h=+t._x.call(null,f.data),y=+t._y.call(null,f.data),n===h&&e===y)return l.next=f,i?i[p]=l:t._root=l,t;do i=i?i[p]=new Array(4):t._root=new Array(4),(s=n>=(w=(a+o)/2))?a=w:o=w,(u=e>=(x=(c+g)/2))?c=x:g=x;while((p=u<<1|s)===(v=(y>=x)<<1|h>=w));return i[v]=f,i[p]=l,t}function q(t){var n,e,r=t.length,i,f,l=new Array(r),a=new Array(r),c=1/0,o=1/0,g=-1/0,w=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(f=+this._y.call(null,n))||(l[e]=i,a[e]=f,i<c&&(c=i),i>g&&(g=i),f<o&&(o=f),f>w&&(w=f));if(c>g||o>w)return this;for(this.cover(c,o).cover(g,w),e=0;e<r;++e)$(this,l[e],a[e],t[e]);return this}function tt(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,f=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,f=(r=Math.floor(n))+1;else{for(var l=i-e||1,a=this._root,c,o;e>t||t>=i||r>n||n>=f;)switch(o=(n<r)<<1|t<e,c=new Array(4),c[o]=a,a=c,l*=2,o){case 0:i=e+l,f=r+l;break;case 1:e=i-l,f=r+l;break;case 2:i=e+l,r=f-l;break;case 3:e=i-l,r=f-l;break}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._y0=r,this._x1=i,this._y1=f,this}function nt(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function et(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function z(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function rt(t,n,e){var r,i=this._x0,f=this._y0,l,a,c,o,g=this._x1,w=this._y1,x=[],h=this._root,y,s;for(h&&x.push(new z(h,i,f,g,w)),e==null?e=1/0:(i=t-e,f=n-e,g=t+e,w=n+e,e*=e);y=x.pop();)if(!(!(h=y.node)||(l=y.x0)>g||(a=y.y0)>w||(c=y.x1)<i||(o=y.y1)<f))if(h.length){var u=(l+c)/2,p=(a+o)/2;x.push(new z(h[3],u,p,c,o),new z(h[2],l,p,u,o),new z(h[1],u,a,c,p),new z(h[0],l,a,u,p)),(s=(n>=p)<<1|t>=u)&&(y=x[x.length-1],x[x.length-1]=x[x.length-1-s],x[x.length-1-s]=y)}else{var v=t-+this._x.call(null,h.data),_=n-+this._y.call(null,h.data),m=v*v+_*_;if(m<e){var N=Math.sqrt(e=m);i=t-N,f=n-N,g=t+N,w=n+N,r=h.data}}return r}function it(t){if(isNaN(g=+this._x.call(null,t))||isNaN(w=+this._y.call(null,t)))return this;var n,e=this._root,r,i,f,l=this._x0,a=this._y0,c=this._x1,o=this._y1,g,w,x,h,y,s,u,p;if(!e)return this;if(e.length)for(;;){if((y=g>=(x=(l+c)/2))?l=x:c=x,(s=w>=(h=(a+o)/2))?a=h:o=h,n=e,!(e=e[u=s<<1|y]))return this;if(!e.length)break;(n[u+1&3]||n[u+2&3]||n[u+3&3])&&(r=n,p=u)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(f=e.next)&&delete e.next,i?(f?i.next=f:delete i.next,this):n?(f?n[u]=f:delete n[u],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[p]=e:this._root=e),this):(this._root=f,this)}function ot(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function ft(){return this._root}function at(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function ut(t){var n=[],e,r=this._root,i,f,l,a,c;for(r&&n.push(new z(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,f=e.x0,l=e.y0,a=e.x1,c=e.y1)&&r.length){var o=(f+a)/2,g=(l+c)/2;(i=r[3])&&n.push(new z(i,o,g,a,c)),(i=r[2])&&n.push(new z(i,f,g,o,c)),(i=r[1])&&n.push(new z(i,o,l,a,g)),(i=r[0])&&n.push(new z(i,f,l,o,g))}return this}function lt(t){var n=[],e=[],r;for(this._root&&n.push(new z(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var i=r.node;if(i.length){var f,l=r.x0,a=r.y0,c=r.x1,o=r.y1,g=(l+c)/2,w=(a+o)/2;(f=i[0])&&n.push(new z(f,l,a,g,w)),(f=i[1])&&n.push(new z(f,g,a,c,w)),(f=i[2])&&n.push(new z(f,l,w,g,o)),(f=i[3])&&n.push(new z(f,g,w,c,o))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function st(t){return t[0]}function ht(t){return arguments.length?(this._x=t,this):this._x}function ct(t){return t[1]}function pt(t){return arguments.length?(this._y=t,this):this._y}function S(t,n,e){var r=new J(n??st,e??ct,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function J(t,n,e,r,i,f){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=f,this._root=void 0}function gt(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var j=S.prototype=J.prototype;j.copy=function(){var t=new J(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=gt(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(4)}):n.target[i]=gt(r));return t};j.add=Z;j.addAll=q;j.cover=tt;j.data=nt;j.extent=et;j.find=rt;j.remove=it;j.removeAll=ot;j.root=ft;j.size=at;j.visit=ut;j.visitAfter=lt;j.x=ht;j.y=pt;function d(t){return function(){return t}}function D(t){return(t()-.5)*1e-6}function It(t){return t.x+t.vx}function jt(t){return t.y+t.vy}function Et(t){var n,e,r,i=1,f=1;typeof t!="function"&&(t=d(t==null?1:+t));function l(){for(var o,g=n.length,w,x,h,y,s,u,p=0;p<f;++p)for(w=S(n,It,jt).visitAfter(a),o=0;o<g;++o)x=n[o],s=e[x.index],u=s*s,h=x.x+x.vx,y=x.y+x.vy,w.visit(v);function v(_,m,N,I,E){var A=_.data,T=_.r,M=s+T;if(A){if(A.index>x.index){var F=h-A.x-A.vx,P=y-A.y-A.vy,b=F*F+P*P;b<M*M&&(F===0&&(F=D(r),b+=F*F),P===0&&(P=D(r),b+=P*P),b=(M-(b=Math.sqrt(b)))/b*i,x.vx+=(F*=b)*(M=(T*=T)/(u+T)),x.vy+=(P*=b)*M,A.vx-=F*(M=1-M),A.vy-=P*M)}return}return m>h+M||I<h-M||N>y+M||E<y-M}}function a(o){if(o.data)return o.r=e[o.data.index];for(var g=o.r=0;g<4;++g)o[g]&&o[g].r>o.r&&(o.r=o[g].r)}function c(){if(n){var o,g=n.length,w;for(e=new Array(g),o=0;o<g;++o)w=n[o],e[w.index]=+t(w,o,n)}}return l.initialize=function(o,g){n=o,r=g,c()},l.iterations=function(o){return arguments.length?(f=+o,l):f},l.strength=function(o){return arguments.length?(i=+o,l):i},l.radius=function(o){return arguments.length?(t=typeof o=="function"?o:d(+o),c(),l):t},l}function Tt(t){return t.index}function xt(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function Dt(t){var n=Tt,e=w,r,i=d(30),f,l,a,c,o,g=1;t==null&&(t=[]);function w(u){return 1/Math.min(a[u.source.index],a[u.target.index])}function x(u){for(var p=0,v=t.length;p<g;++p)for(var _=0,m,N,I,E,A,T,M;_<v;++_)m=t[_],N=m.source,I=m.target,E=I.x+I.vx-N.x-N.vx||D(o),A=I.y+I.vy-N.y-N.vy||D(o),T=Math.sqrt(E*E+A*A),T=(T-f[_])/T*u*r[_],E*=T,A*=T,I.vx-=E*(M=c[_]),I.vy-=A*M,N.vx+=E*(M=1-M),N.vy+=A*M}function h(){if(l){var u,p=l.length,v=t.length,_=new Map(l.map((N,I)=>[n(N,I,l),N])),m;for(u=0,a=new Array(p);u<v;++u)m=t[u],m.index=u,typeof m.source!="object"&&(m.source=xt(_,m.source)),typeof m.target!="object"&&(m.target=xt(_,m.target)),a[m.source.index]=(a[m.source.index]||0)+1,a[m.target.index]=(a[m.target.index]||0)+1;for(u=0,c=new Array(v);u<v;++u)m=t[u],c[u]=a[m.source.index]/(a[m.source.index]+a[m.target.index]);r=new Array(v),y(),f=new Array(v),s()}}function y(){if(l)for(var u=0,p=t.length;u<p;++u)r[u]=+e(t[u],u,t)}function s(){if(l)for(var u=0,p=t.length;u<p;++u)f[u]=+i(t[u],u,t)}return x.initialize=function(u,p){l=u,o=p,h()},x.links=function(u){return arguments.length?(t=u,h(),x):t},x.id=function(u){return arguments.length?(n=u,x):n},x.iterations=function(u){return arguments.length?(g=+u,x):g},x.strength=function(u){return arguments.length?(e=typeof u=="function"?u:d(+u),y(),x):e},x.distance=function(u){return arguments.length?(i=typeof u=="function"?u:d(+u),s(),x):i},x}var bt={value:()=>{}};function mt(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new L(e)}function L(t){this._=t}function Ft(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}L.prototype=mt.prototype={constructor:L,on:function(t,n){var e=this._,r=Ft(t+"",e),i,f=-1,l=r.length;if(arguments.length<2){for(;++f<l;)if((i=(t=r[f]).type)&&(i=Pt(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++f<l;)if(i=(t=r[f]).type)e[i]=vt(e[i],t.name,n);else if(n==null)for(i in e)e[i]=vt(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new L(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,f;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(f=this._[t],r=0,i=f.length;r<i;++r)f[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,f=r.length;i<f;++i)r[i].value.apply(n,e)}};function Pt(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function vt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=bt,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var K=mt;var Q=0,Y=0,X=0,wt=1e3,R,B,k=0,O=0,H=0,C=typeof performance=="object"&&performance.now?performance:Date,_t=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function W(){return O||(_t(St),O=C.now()+H)}function St(){O=0}function U(){this._call=this._time=this._next=null}U.prototype=G.prototype={constructor:U,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?W():+e)+(n==null?0:+n),!this._next&&B!==this&&(B?B._next=this:R=this,B=this),this._call=t,this._time=e,V()},stop:function(){this._call&&(this._call=null,this._time=1/0,V())}};function G(t,n,e){var r=new U;return r.restart(t,n,e),r}function dt(){W(),++Q;for(var t=R,n;t;)(n=O-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Q}function yt(){O=(k=C.now())+H,Q=Y=0;try{dt()}finally{Q=0,Qt(),O=0}}function Ot(){var t=C.now(),n=t-k;n>wt&&(H-=n,k=t)}function Qt(){for(var t,n=R,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:R=e);B=t,V(r)}function V(t){if(!Q){Y&&(Y=clearTimeout(Y));var n=t-O;n>24?(t<1/0&&(Y=setTimeout(yt,t-C.now()-H)),X&&(X=clearInterval(X))):(X||(k=C.now(),X=setInterval(Ot,wt)),Q=1,_t(yt))}}function Nt(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}function At(t){return t.x}function Mt(t){return t.y}var Xt=10,Yt=Math.PI*(3-Math.sqrt(5));function Bt(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),f=0,l=.6,a=new Map,c=G(w),o=K("tick","end"),g=Nt();t==null&&(t=[]);function w(){x(),o.call("tick",n),e<r&&(c.stop(),o.call("end",n))}function x(s){var u,p=t.length,v;s===void 0&&(s=1);for(var _=0;_<s;++_)for(e+=(f-e)*i,a.forEach(function(m){m(e)}),u=0;u<p;++u)v=t[u],v.fx==null?v.x+=v.vx*=l:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=l:(v.y=v.fy,v.vy=0);return n}function h(){for(var s=0,u=t.length,p;s<u;++s){if(p=t[s],p.index=s,p.fx!=null&&(p.x=p.fx),p.fy!=null&&(p.y=p.fy),isNaN(p.x)||isNaN(p.y)){var v=Xt*Math.sqrt(.5+s),_=s*Yt;p.x=v*Math.cos(_),p.y=v*Math.sin(_)}(isNaN(p.vx)||isNaN(p.vy))&&(p.vx=p.vy=0)}}function y(s){return s.initialize&&s.initialize(t,g),s}return h(),n={tick:x,restart:function(){return c.restart(w),n},stop:function(){return c.stop(),n},nodes:function(s){return arguments.length?(t=s,h(),a.forEach(y),n):t},alpha:function(s){return arguments.length?(e=+s,n):e},alphaMin:function(s){return arguments.length?(r=+s,n):r},alphaDecay:function(s){return arguments.length?(i=+s,n):+i},alphaTarget:function(s){return arguments.length?(f=+s,n):f},velocityDecay:function(s){return arguments.length?(l=1-s,n):1-l},randomSource:function(s){return arguments.length?(g=s,a.forEach(y),n):g},force:function(s,u){return arguments.length>1?(u==null?a.delete(s):a.set(s,y(u)),n):a.get(s)},find:function(s,u,p){var v=0,_=t.length,m,N,I,E,A;for(p==null?p=1/0:p*=p,v=0;v<_;++v)E=t[v],m=s-E.x,N=u-E.y,I=m*m+N*N,I<p&&(A=E,p=I);return A},on:function(s,u){return arguments.length>1?(o.on(s,u),n):o.on(s)}}}function Ct(){var t,n,e,r,i=d(-30),f,l=1,a=1/0,c=.81;function o(h){var y,s=t.length,u=S(t,At,Mt).visitAfter(w);for(r=h,y=0;y<s;++y)n=t[y],u.visit(x)}function g(){if(t){var h,y=t.length,s;for(f=new Array(y),h=0;h<y;++h)s=t[h],f[s.index]=+i(s,h,t)}}function w(h){var y=0,s,u,p=0,v,_,m;if(h.length){for(v=_=m=0;m<4;++m)(s=h[m])&&(u=Math.abs(s.value))&&(y+=s.value,p+=u,v+=u*s.x,_+=u*s.y);h.x=v/p,h.y=_/p}else{s=h,s.x=s.data.x,s.y=s.data.y;do y+=f[s.data.index];while(s=s.next)}h.value=y}function x(h,y,s,u){if(!h.value)return!0;var p=h.x-n.x,v=h.y-n.y,_=u-y,m=p*p+v*v;if(_*_/c<m)return m<a&&(p===0&&(p=D(e),m+=p*p),v===0&&(v=D(e),m+=v*v),m<l&&(m=Math.sqrt(l*m)),n.vx+=p*h.value*r/m,n.vy+=v*h.value*r/m),!0;if(h.length||m>=a)return;(h.data!==n||h.next)&&(p===0&&(p=D(e),m+=p*p),v===0&&(v=D(e),m+=v*v),m<l&&(m=Math.sqrt(l*m)));do h.data!==n&&(_=f[h.data.index]*r/m,n.vx+=p*_,n.vy+=v*_);while(h=h.next)}return o.initialize=function(h,y){t=h,e=y,g()},o.strength=function(h){return arguments.length?(i=typeof h=="function"?h:d(+h),g(),o):i},o.distanceMin=function(h){return arguments.length?(l=h*h,o):Math.sqrt(l)},o.distanceMax=function(h){return arguments.length?(a=h*h,o):Math.sqrt(a)},o.theta=function(h){return arguments.length?(c=h*h,o):Math.sqrt(c)},o}function Lt(t,n,e){var r,i=d(.1),f,l;typeof t!="function"&&(t=d(+t)),n==null&&(n=0),e==null&&(e=0);function a(o){for(var g=0,w=r.length;g<w;++g){var x=r[g],h=x.x-n||1e-6,y=x.y-e||1e-6,s=Math.sqrt(h*h+y*y),u=(l[g]-s)*f[g]*o/s;x.vx+=h*u,x.vy+=y*u}}function c(){if(r){var o,g=r.length;for(f=new Array(g),l=new Array(g),o=0;o<g;++o)l[o]=+t(r[o],o,r),f[o]=isNaN(l[o])?0:+i(r[o],o,r)}}return a.initialize=function(o){r=o,c()},a.strength=function(o){return arguments.length?(i=typeof o=="function"?o:d(+o),c(),a):i},a.radius=function(o){return arguments.length?(t=typeof o=="function"?o:d(+o),c(),a):t},a.x=function(o){return arguments.length?(n=+o,a):n},a.y=function(o){return arguments.length?(e=+o,a):e},a}function Rt(t){var n=d(.1),e,r,i;typeof t!="function"&&(t=d(t==null?0:+t));function f(a){for(var c=0,o=e.length,g;c<o;++c)g=e[c],g.vx+=(i[c]-g.x)*r[c]*a}function l(){if(e){var a,c=e.length;for(r=new Array(c),i=new Array(c),a=0;a<c;++a)r[a]=isNaN(i[a]=+t(e[a],a,e))?0:+n(e[a],a,e)}}return f.initialize=function(a){e=a,l()},f.strength=function(a){return arguments.length?(n=typeof a=="function"?a:d(+a),l(),f):n},f.x=function(a){return arguments.length?(t=typeof a=="function"?a:d(+a),l(),f):t},f}function kt(t){var n=d(.1),e,r,i;typeof t!="function"&&(t=d(t==null?0:+t));function f(a){for(var c=0,o=e.length,g;c<o;++c)g=e[c],g.vy+=(i[c]-g.y)*r[c]*a}function l(){if(e){var a,c=e.length;for(r=new Array(c),i=new Array(c),a=0;a<c;++a)r[a]=isNaN(i[a]=+t(e[a],a,e))?0:+n(e[a],a,e)}}return f.initialize=function(a){e=a,l()},f.strength=function(a){return arguments.length?(n=typeof a=="function"?a:d(+a),l(),f):n},f.y=function(a){return arguments.length?(t=typeof a=="function"?a:d(+a),l(),f):t},f}export{zt as forceCenter,Et as forceCollide,Dt as forceLink,Ct as forceManyBody,Lt as forceRadial,Bt as forceSimulation,Rt as forceX,kt as forceY};
