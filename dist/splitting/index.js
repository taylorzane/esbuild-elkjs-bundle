import{a as Qe,b as Je,c as je,e as et,f as Ne,g as tt,h as U,i as D,j as rt,k as it}from"./chunk-6HX2YG5K.js";import{b as Ke,d as kr}from"./chunk-DQW7DUIU.js";var ur=Ke((Oa,hr)=>{hr.exports=function(t,r){r||(r=[0,""]),t=String(t);var i=parseFloat(t,10);return r[0]=i,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}});var gr=Ke((Na,mr)=>{"use strict";var dr=ur();mr.exports=Xe;var G=pr("in",document.body);function We(e,t){var r=dr(getComputedStyle(e).getPropertyValue(t));return r[0]*Xe(r[1],e)}function pr(e,t){var r=document.createElement("div");r.style.height="128"+e,t.appendChild(r);var i=We(r,"height")/128;return t.removeChild(r),i}function Xe(e,t){if(!e)return null;switch(t=t||document.body,e=(e+""||"px").trim().toLowerCase(),(t===window||t===document)&&(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return pr(e,t);case"em":return We(t,"font-size");case"rem":return We(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return G;case"cm":return G/2.54;case"mm":return G/25.4;case"pt":return G/72;case"pc":return G/6;case"px":return 1}var r=dr(e);if(!isNaN(r[0])&&r[1]){var i=Xe(r[1],t);return typeof i=="number"?r[0]*i:null}return null}});var ne="http://www.w3.org/1999/xhtml",ze={svg:"http://www.w3.org/2000/svg",xhtml:ne,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oe(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),ze.hasOwnProperty(t)?{space:ze[t],local:e}:e}function Ir(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===ne&&t.documentElement.namespaceURI===ne?t.createElement(e):t.createElementNS(r,e)}}function Mr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function se(e){var t=oe(e);return(t.local?Mr:Ir)(t)}function Lr(){}function ae(e){return e==null?Lr:function(){return this.querySelector(e)}}function nt(e){typeof e!="function"&&(e=ae(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var o=t[n],s=o.length,a=i[n]=new Array(s),l,f,c=0;c<s;++c)(l=o[c])&&(f=e.call(l,l.__data__,c,o))&&("__data__"in l&&(f.__data__=l.__data__),a[c]=f);return new p(i,this._parents)}function De(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Br(){return[]}function ot(e){return e==null?Br:function(){return this.querySelectorAll(e)}}function Fr(e){return function(){return De(e.apply(this,arguments))}}function st(e){typeof e=="function"?e=Fr(e):e=ot(e);for(var t=this._groups,r=t.length,i=[],n=[],o=0;o<r;++o)for(var s=t[o],a=s.length,l,f=0;f<a;++f)(l=s[f])&&(i.push(e.call(l,l.__data__,f,s)),n.push(l));return new p(i,n)}function at(e){return function(){return this.matches(e)}}function le(e){return function(t){return t.matches(e)}}var Hr=Array.prototype.find;function Pr(e){return function(){return Hr.call(this.children,e)}}function Vr(){return this.firstElementChild}function lt(e){return this.select(e==null?Vr:Pr(typeof e=="function"?e:le(e)))}var Ur=Array.prototype.filter;function qr(){return Array.from(this.children)}function Wr(e){return function(){return Ur.call(this.children,e)}}function ft(e){return this.selectAll(e==null?qr:Wr(typeof e=="function"?e:le(e)))}function ct(e){typeof e!="function"&&(e=at(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var o=t[n],s=o.length,a=i[n]=[],l,f=0;f<s;++f)(l=o[f])&&e.call(l,l.__data__,f,o)&&a.push(l);return new p(i,this._parents)}function fe(e){return new Array(e.length)}function ht(){return new p(this._enter||this._groups.map(fe),this._parents)}function q(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}q.prototype={constructor:q,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ut(e){return function(){return e}}function Xr(e,t,r,i,n,o){for(var s=0,a,l=t.length,f=o.length;s<f;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):r[s]=new q(e,o[s]);for(;s<l;++s)(a=t[s])&&(n[s]=a)}function Yr(e,t,r,i,n,o,s){var a,l,f=new Map,c=t.length,u=o.length,d=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(d[a]=h=s.call(l,l.__data__,a,t)+"",f.has(h)?n[a]=l:f.set(h,l));for(a=0;a<u;++a)h=s.call(e,o[a],a,o)+"",(l=f.get(h))?(i[a]=l,l.__data__=o[a],f.delete(h)):r[a]=new q(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&f.get(d[a])===l&&(n[a]=l)}function Gr(e){return e.__data__}function dt(e,t){if(!arguments.length)return Array.from(this,Gr);var r=t?Yr:Xr,i=this._parents,n=this._groups;typeof e!="function"&&(e=ut(e));for(var o=n.length,s=new Array(o),a=new Array(o),l=new Array(o),f=0;f<o;++f){var c=i[f],u=n[f],d=u.length,h=Zr(e.call(c,c&&c.__data__,f,i)),m=h.length,b=a[f]=new Array(m),g=s[f]=new Array(m),_=l[f]=new Array(d);r(c,u,b,g,_,h,t);for(var w=0,E=0,S,T;w<m;++w)if(S=b[w]){for(w>=E&&(E=w+1);!(T=g[E])&&++E<m;);S._next=T||null}}return s=new p(s,i),s._enter=a,s._exit=l,s}function Zr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pt(){return new p(this._exit||this._groups.map(fe),this._parents)}function mt(e,t,r){var i=this.enter(),n=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(n=t(n),n&&(n=n.selection())),r==null?o.remove():r(o),i&&n?i.merge(n).order():n}function gt(e){for(var t=e.selection?e.selection():e,r=this._groups,i=t._groups,n=r.length,o=i.length,s=Math.min(n,o),a=new Array(n),l=0;l<s;++l)for(var f=r[l],c=i[l],u=f.length,d=a[l]=new Array(u),h,m=0;m<u;++m)(h=f[m]||c[m])&&(d[m]=h);for(;l<n;++l)a[l]=r[l];return new p(a,this._parents)}function vt(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i=e[t],n=i.length-1,o=i[n],s;--n>=0;)(s=i[n])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function xt(e){e||(e=Kr);function t(u,d){return u&&d?e(u.__data__,d.__data__):!u-!d}for(var r=this._groups,i=r.length,n=new Array(i),o=0;o<i;++o){for(var s=r[o],a=s.length,l=n[o]=new Array(a),f,c=0;c<a;++c)(f=s[c])&&(l[c]=f);l.sort(t)}return new p(n,this._parents).order()}function Kr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function yt(){return Array.from(this)}function _t(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,o=i.length;n<o;++n){var s=i[n];if(s)return s}return null}function wt(){let e=0;for(let t of this)++e;return e}function St(){return!this.node()}function Tt(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var n=t[r],o=0,s=n.length,a;o<s;++o)(a=n[o])&&e.call(a,a.__data__,o,n);return this}function Qr(e){return function(){this.removeAttribute(e)}}function Jr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jr(e,t){return function(){this.setAttribute(e,t)}}function ei(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ti(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function ri(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Ct(e,t){var r=oe(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((t==null?r.local?Jr:Qr:typeof t=="function"?r.local?ri:ti:r.local?ei:jr)(r,t))}function ce(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ii(e){return function(){this.style.removeProperty(e)}}function ni(e,t,r){return function(){this.style.setProperty(e,t,r)}}function oi(e,t,r){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function At(e,t,r){return arguments.length>1?this.each((t==null?ii:typeof t=="function"?oi:ni)(e,t,r??"")):si(this.node(),e)}function si(e,t){return e.style.getPropertyValue(t)||ce(e).getComputedStyle(e,null).getPropertyValue(t)}function ai(e){return function(){delete this[e]}}function li(e,t){return function(){this[e]=t}}function fi(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Et(e,t){return arguments.length>1?this.each((t==null?ai:typeof t=="function"?fi:li)(e,t)):this.node()[e]}function Rt(e){return e.trim().split(/^|\s+/)}function $e(e){return e.classList||new Ot(e)}function Ot(e){this._node=e,this._names=Rt(e.getAttribute("class")||"")}Ot.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Nt(e,t){for(var r=$e(e),i=-1,n=t.length;++i<n;)r.add(t[i])}function zt(e,t){for(var r=$e(e),i=-1,n=t.length;++i<n;)r.remove(t[i])}function ci(e){return function(){Nt(this,e)}}function hi(e){return function(){zt(this,e)}}function ui(e,t){return function(){(t.apply(this,arguments)?Nt:zt)(this,e)}}function Dt(e,t){var r=Rt(e+"");if(arguments.length<2){for(var i=$e(this.node()),n=-1,o=r.length;++n<o;)if(!i.contains(r[n]))return!1;return!0}return this.each((typeof t=="function"?ui:t?ci:hi)(r,t))}function di(){this.textContent=""}function pi(e){return function(){this.textContent=e}}function mi(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $t(e){return arguments.length?this.each(e==null?di:(typeof e=="function"?mi:pi)(e)):this.node().textContent}function gi(){this.innerHTML=""}function vi(e){return function(){this.innerHTML=e}}function xi(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function kt(e){return arguments.length?this.each(e==null?gi:(typeof e=="function"?xi:vi)(e)):this.node().innerHTML}function bi(){this.nextSibling&&this.parentNode.appendChild(this)}function It(){return this.each(bi)}function yi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mt(){return this.each(yi)}function Lt(e){var t=typeof e=="function"?e:se(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function _i(){return null}function Bt(e,t){var r=typeof e=="function"?e:se(e),i=t==null?_i:typeof t=="function"?t:ae(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function wi(){var e=this.parentNode;e&&e.removeChild(this)}function Ft(){return this.each(wi)}function Si(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ti(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ht(e){return this.select(e?Ti:Si)}function Pt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ci(e){return function(t){e.call(this,t,this.__data__)}}function Ai(e){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{type:t,name:r}})}function Ei(e){return function(){var t=this.__on;if(t){for(var r=0,i=-1,n=t.length,o;r<n;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++i]=o;++i?t.length=i:delete this.__on}}}function Ri(e,t,r){return function(){var i=this.__on,n,o=Ci(t);if(i){for(var s=0,a=i.length;s<a;++s)if((n=i[s]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=o,n.options=r),n.value=t;return}}this.addEventListener(e.type,o,r),n={type:e.type,name:e.name,value:t,listener:o,options:r},i?i.push(n):this.__on=[n]}}function Vt(e,t,r){var i=Ai(e+""),n,o=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,f=a.length,c;l<f;++l)for(n=0,c=a[l];n<o;++n)if((s=i[n]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?Ri:Ei,n=0;n<o;++n)this.each(a(i[n],t,r));return this}function Ut(e,t,r){var i=ce(e),n=i.CustomEvent;typeof n=="function"?n=new n(t,r):(n=i.document.createEvent("Event"),r?(n.initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function Oi(e,t){return function(){return Ut(this,e,t)}}function Ni(e,t){return function(){return Ut(this,e,t.apply(this,arguments))}}function qt(e,t){return this.each((typeof t=="function"?Ni:Oi)(e,t))}function*Wt(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,o=i.length,s;n<o;++n)(s=i[n])&&(yield s)}var ke=[null];function p(e,t){this._groups=e,this._parents=t}function zi(){return new p([[document.documentElement]],ke)}function Di(){return this}p.prototype=zi.prototype={constructor:p,select:nt,selectAll:st,selectChild:lt,selectChildren:ft,filter:ct,data:dt,enter:ht,exit:pt,join:mt,merge:gt,selection:Di,order:vt,sort:xt,call:bt,nodes:yt,node:_t,size:wt,empty:St,each:Tt,attr:Ct,style:At,property:Et,classed:Dt,text:$t,html:kt,raise:It,lower:Mt,append:Lt,insert:Bt,remove:Ft,clone:Ht,datum:Pt,on:Vt,dispatch:qt,[Symbol.iterator]:Wt};function he(e){return typeof e=="string"?new p([[document.querySelector(e)]],[document.documentElement]):new p([[e]],ke)}var Xt;(function(e){e[e.SVG=0]="SVG",e[e.HTML=1]="HTML"})(Xt||(Xt={}));var $;(function(e){e.Fit="fit",e.Extend="extend",e.FitWidth="fit_width"})($||($={}));var y=[];var Yt=function(){return y.some(function(e){return e.activeTargets.length>0})};var Gt=function(){return y.some(function(e){return e.skippedTargets.length>0})};var Zt="ResizeObserver loop completed with undelivered notifications.",Kt=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Zt}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Zt),window.dispatchEvent(e)};var k;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(k||(k={}));var C=function(e){return Object.freeze(e)};var Ie=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,C(this)}return e}();var Me=function(){function e(t,r,i,n){return this.x=t,this.y=r,this.width=i,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,C(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,i=t.y,n=t.top,o=t.right,s=t.bottom,a=t.left,l=t.width,f=t.height;return{x:r,y:i,top:n,right:o,bottom:s,left:a,width:l,height:f}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}();var W=function(e){return e instanceof SVGElement&&"getBBox"in e},ue=function(e){if(W(e)){var t=e.getBBox(),r=t.width,i=t.height;return!r&&!i}var n=e,o=n.offsetWidth,s=n.offsetHeight;return!(o||s||e.getClientRects().length)},Le=function(e){var t;if(e instanceof Element)return!0;var r=(t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},Qt=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1};var I=typeof window<"u"?window:{};var de=new WeakMap,Jt=/auto|scroll/,$i=/^tb|vertical/,ki=/msie|trident/i.test(I.navigator&&I.navigator.userAgent),R=function(e){return parseFloat(e||"0")},B=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new Ie((r?t:e)||0,(r?e:t)||0)},jt=C({devicePixelContentBoxSize:B(),borderBoxSize:B(),contentBoxSize:B(),contentRect:new Me(0,0,0,0)}),Be=function(e,t){if(t===void 0&&(t=!1),de.has(e)&&!t)return de.get(e);if(ue(e))return de.set(e,jt),jt;var r=getComputedStyle(e),i=W(e)&&e.ownerSVGElement&&e.getBBox(),n=!ki&&r.boxSizing==="border-box",o=$i.test(r.writingMode||""),s=!i&&Jt.test(r.overflowY||""),a=!i&&Jt.test(r.overflowX||""),l=i?0:R(r.paddingTop),f=i?0:R(r.paddingRight),c=i?0:R(r.paddingBottom),u=i?0:R(r.paddingLeft),d=i?0:R(r.borderTopWidth),h=i?0:R(r.borderRightWidth),m=i?0:R(r.borderBottomWidth),b=i?0:R(r.borderLeftWidth),g=u+f,_=l+c,w=b+h,E=d+m,S=a?e.offsetHeight-E-e.clientHeight:0,T=s?e.offsetWidth-w-e.clientWidth:0,Oe=n?g+w:0,V=n?_+E:0,re=i?i.width:R(r.width)-Oe-T,ie=i?i.height:R(r.height)-V-S,Dr=re+g+T+w,$r=ie+_+S+E,Ze=C({devicePixelContentBoxSize:B(Math.round(re*devicePixelRatio),Math.round(ie*devicePixelRatio),o),borderBoxSize:B(Dr,$r,o),contentBoxSize:B(re,ie,o),contentRect:new Me(u,l,re,ie)});return de.set(e,Ze),Ze},pe=function(e,t,r){var i=Be(e,r),n=i.borderBoxSize,o=i.contentBoxSize,s=i.devicePixelContentBoxSize;switch(t){case k.DEVICE_PIXEL_CONTENT_BOX:return s;case k.BORDER_BOX:return n;default:return o}};var Fe=function(){function e(t){var r=Be(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=C([r.borderBoxSize]),this.contentBoxSize=C([r.contentBoxSize]),this.devicePixelContentBoxSize=C([r.devicePixelContentBoxSize])}return e}();var me=function(e){if(ue(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t};var er=function(){var e=1/0,t=[];y.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(f){var c=new Fe(f.target),u=me(f.target);a.push(c),f.lastReportedSize=pe(f.target,f.observedBox),u<e&&(e=u)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var r=0,i=t;r<i.length;r++){var n=i[r];n()}return e};var He=function(e){y.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(n){n.isActive()&&(me(n.target)>e?r.activeTargets.push(n):r.skippedTargets.push(n))})})};var tr=function(){var e=0;for(He(e);Yt();)e=er(),He(e);return Gt()&&Kt(),e>0};var Pe,rr=[],Ii=function(){return rr.splice(0).forEach(function(e){return e()})},ir=function(e){if(!Pe){var t=0,r=document.createTextNode(""),i={characterData:!0};new MutationObserver(function(){return Ii()}).observe(r,i),Pe=function(){r.textContent="".concat(t?t--:t++)}}rr.push(e),Pe()};var nr=function(e){ir(function(){requestAnimationFrame(e)})};var ge=0,Mi=function(){return!!ge},Li=250,Bi={attributes:!0,characterData:!0,childList:!0,subtree:!0},or=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],sr=function(e){return e===void 0&&(e=0),Date.now()+e},Ve=!1,Fi=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=Li),!Ve){Ve=!0;var i=sr(t);nr(function(){var n=!1;try{n=tr()}finally{if(Ve=!1,t=i-sr(),!Mi())return;n?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,Bi)};document.body?r():I.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),or.forEach(function(r){return I.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),or.forEach(function(r){return I.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),ve=new Fi,Ue=function(e){!ge&&e>0&&ve.start(),ge+=e,!ge&&ve.stop()};var Hi=function(e){return!W(e)&&!Qt(e)&&getComputedStyle(e).display==="inline"},ar=function(){function e(t,r){this.target=t,this.observedBox=r||k.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=pe(this.target,this.observedBox,!0);return Hi(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}();var lr=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}();var xe=new WeakMap,fr=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},X=function(){function e(){}return e.connect=function(t,r){var i=new lr(t,r);xe.set(t,i)},e.observe=function(t,r,i){var n=xe.get(t),o=n.observationTargets.length===0;fr(n.observationTargets,r)<0&&(o&&y.push(n),n.observationTargets.push(new ar(r,i&&i.box)),Ue(1),ve.schedule())},e.unobserve=function(t,r){var i=xe.get(t),n=fr(i.observationTargets,r),o=i.observationTargets.length===1;n>=0&&(o&&y.splice(y.indexOf(i),1),i.observationTargets.splice(n,1),Ue(-1))},e.disconnect=function(t){var r=this,i=xe.get(t);i.observationTargets.slice().forEach(function(n){return r.unobserve(t,n.target)}),i.activeTargets.splice(0,i.activeTargets.length)},e}();var qe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");X.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Le(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");X.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Le(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");X.unobserve(this,t)},e.prototype.disconnect=function(){X.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();var cr=globalThis.ResizeObserver||qe;var be={duration:void 0,margin:{top:0,bottom:0,left:0,right:0},padding:{top:0,bottom:0,left:0,right:0},sizing:$.Fit,width:void 0,height:void 0,svgDefs:void 0,ariaLabel:void 0};var Y=class e{constructor(t){this._defaultConfig=be,this._isFirstRender=!0,this._requestedAnimationFrame=null,this._container=t;let r=he(this._container);r.attr("role","figure"),this.svg=r.append("svg").style("display","block").attr("xmlns","http://www.w3.org/2000/svg").attr("height",e.DEFAULT_CONTAINER_HEIGHT).attr("aria-hidden",!0),this._svgDefs=this.svg.append("defs"),this.element=this.svg.node()}updateContainer(t){this.prevConfig=this.config,this.config=tt(this._defaultConfig,t)}_preRender(){}_render(t){let{config:r}=this;r.svgDefs&&(this.svg.select(".svgDefs").remove(),this.svg.append("defs").attr("class","svgDefs").html(r.svgDefs)),he(this._container).attr("aria-label",r.ariaLabel),this._isFirstRender=!1}render(t=this.config.duration){let r=this.config.width||this.containerWidth,i=this.config.height||this.containerHeight;this.svg.attr("width",r).attr("height",i),this._resizeObserver||this._setUpResizeObserver(),cancelAnimationFrame(this._requestedAnimationFrame),this._requestedAnimationFrame=requestAnimationFrame(()=>{this._preRender(),this._render(t)})}get containerWidth(){return this.config.width?this.element.clientWidth:this._container.clientWidth||this._container.getBoundingClientRect().width}get containerHeight(){return this.config.height?this.element.clientHeight:this._container.clientHeight||this._container.getBoundingClientRect().height||e.DEFAULT_CONTAINER_HEIGHT}get width(){return D(this.containerWidth-this.config.margin.left-this.config.margin.right,0,Number.POSITIVE_INFINITY)}get height(){return D(this.containerHeight-this.config.margin.top-this.config.margin.bottom,0,Number.POSITIVE_INFINITY)}_removeAllChildren(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)}_onResize(){let{config:t}=this;(t.sizing===$.Fit||t.sizing===$.FitWidth)&&this.render(0)}_setUpResizeObserver(){if(this._resizeObserver)return;let t=this._container.getBoundingClientRect();this._containerSize={width:t.width,height:t.height},this._resizeObserver=new cr((r,i)=>{let n=this._container.getBoundingClientRect(),o={width:n.width,height:n.height};!et(this._containerSize,o)&&o.width&&o.height&&(this._containerSize=o,this._onResize())}),this._resizeObserver.observe(this._container)}destroy(){var t;cancelAnimationFrame(this._requestedAnimationFrame),(t=this._resizeObserver)===null||t===void 0||t.disconnect(),this.svg.remove()}};Y.DEFAULT_CONTAINER_HEIGHT=300;var Pi=kr(gr(),1);function vr(){let e=()=>Math.floor((1+crypto.getRandomValues(new Uint32Array(1))[0])*65536).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}function ye(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ye(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function Q(){}var Z=.7,Se=1/Z,F="\\s*([+-]?\\d+)\\s*",K="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",O="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vi=/^#([0-9a-f]{3,8})$/,Ui=new RegExp(`^rgb\\(${F},${F},${F}\\)$`),qi=new RegExp(`^rgb\\(${O},${O},${O}\\)$`),Wi=new RegExp(`^rgba\\(${F},${F},${F},${K}\\)$`),Xi=new RegExp(`^rgba\\(${O},${O},${O},${K}\\)$`),Yi=new RegExp(`^hsl\\(${K},${O},${O}\\)$`),Gi=new RegExp(`^hsla\\(${K},${O},${O},${K}\\)$`),xr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ye(Q,J,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:br,formatHex:br,formatHex8:Zi,formatHsl:Ki,formatRgb:yr,toString:yr});function br(){return this.rgb().formatHex()}function Zi(){return this.rgb().formatHex8()}function Ki(){return Er(this).formatHsl()}function yr(){return this.rgb().formatRgb()}function J(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Vi.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_r(t):r===3?new v(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_e(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_e(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ui.exec(e))?new v(t[1],t[2],t[3],1):(t=qi.exec(e))?new v(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wi.exec(e))?_e(t[1],t[2],t[3],t[4]):(t=Xi.exec(e))?_e(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Yi.exec(e))?Tr(t[1],t[2]/100,t[3]/100,1):(t=Gi.exec(e))?Tr(t[1],t[2]/100,t[3]/100,t[4]):xr.hasOwnProperty(e)?_r(xr[e]):e==="transparent"?new v(NaN,NaN,NaN,0):null}function _r(e){return new v(e>>16&255,e>>8&255,e&255,1)}function _e(e,t,r,i){return i<=0&&(e=t=r=NaN),new v(e,t,r,i)}function Qi(e){return e instanceof Q||(e=J(e)),e?(e=e.rgb(),new v(e.r,e.g,e.b,e.opacity)):new v}function Ar(e,t,r,i){return arguments.length===1?Qi(e):new v(e,t,r,i??1)}function v(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}ye(v,Ar,Ye(Q,{brighter(e){return e=e==null?Se:Math.pow(Se,e),new v(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Z:Math.pow(Z,e),new v(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new v(L(this.r),L(this.g),L(this.b),Te(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wr,formatHex:wr,formatHex8:Ji,formatRgb:Sr,toString:Sr}));function wr(){return`#${M(this.r)}${M(this.g)}${M(this.b)}`}function Ji(){return`#${M(this.r)}${M(this.g)}${M(this.b)}${M((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sr(){let e=Te(this.opacity);return`${e===1?"rgb(":"rgba("}${L(this.r)}, ${L(this.g)}, ${L(this.b)}${e===1?")":`, ${e})`}`}function Te(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function L(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function M(e){return e=L(e),(e<16?"0":"")+e.toString(16)}function Tr(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new A(e,t,r,i)}function Er(e){if(e instanceof A)return new A(e.h,e.s,e.l,e.opacity);if(e instanceof Q||(e=J(e)),!e)return new A;if(e instanceof A)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,n=Math.min(t,r,i),o=Math.max(t,r,i),s=NaN,a=o-n,l=(o+n)/2;return a?(t===o?s=(r-i)/a+(r<i)*6:r===o?s=(i-t)/a+2:s=(t-r)/a+4,a/=l<.5?o+n:2-o-n,s*=60):a=l>0&&l<1?0:s,new A(s,a,l,e.opacity)}function j(e,t,r,i){return arguments.length===1?Er(e):new A(e,t,r,i??1)}function A(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}ye(A,j,Ye(Q,{brighter(e){return e=e==null?Se:Math.pow(Se,e),new A(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Z:Math.pow(Z,e),new A(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,n=2*r-i;return new v(Ge(e>=240?e-240:e+120,n,i),Ge(e,n,i),Ge(e<120?e+240:e-120,n,i),this.opacity)},clamp(){return new A(Cr(this.h),we(this.s),we(this.l),Te(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Te(this.opacity);return`${e===1?"hsl(":"hsla("}${Cr(this.h)}, ${we(this.s)*100}%, ${we(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Cr(e){return e=(e||0)%360,e<0?e+360:e}function we(e){return Math.max(0,Math.min(1,e||0))}function Ge(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var H=globalThis?.UNOVIS_COLORS||["#4D8CFD","#FF6B7E","#F4B83E","#A6CC74","#00C19A","#6859BE"],Rr=globalThis?.UNOVIS_COLORS_DARK||["#4D8CFD","#FF6B7E","#FFC16D","#A6CC74","#00C19A","#7887E0"],N=e=>`--vis-${je(e)?`color${e%H.length}`:e}`;function Or(e,t=.4){let r=j(e);return r.l=r.l*(1+t),r.formatHex()}function Nr(e,t=.4,r=.6){let i=j(e);return i.s=i.s*(1-r),i.l=i.l*(1-t),i.formatHex()}var Ce=10,Ae=[{id:"stripes-diagonal",svg:'<path d="M-1,1 l2,-2 M0,10 l10,-10 M9,11 l2,-2" stroke="#000"/>'},{id:"dots",svg:'<path d="m0-1.5a1 1 0 010 3m10-3a1 1 0 000 3M5 3.5a1 1 0 010 3 1 1 0 010-3M0 8.5 a1 1 0 010 3m10-3a1 1 0 000 3" fill"#000"/>'},{id:"stripes-vertical",svg:'<path d="M 5,-1 L5,11" stroke="#000"/>'},{id:"crosshatch",svg:'<path d="M0 0L10 10ZM10 0L0 10Z" stroke="#000"/>'},{id:"waves",svg:'<path d="M0 4Q2.5 1 5 4 7.5 7 10 4v2Q7.5 9 5 6 2.5 3 0 6Z" fill="#000"/>'},{id:"circles",svg:'<circle cx="5" cy="5" r="3" stroke="#000" fill="#fff"/>'}],Ee=[{id:"circle",marker:'<circle cx="5" cy="5" r="5"/>',dashArray:[]},{id:"triangle",marker:'<path d="M5,0 L10,9 L0,9Z">',dashArray:[9,1]},{id:"diamond",marker:'<path d="M 0 5 L5 0 L 10 5 L 5 10 L 0 5Z">',dashArray:[2]},{id:"arrow",marker:'<path d="M4 0 0 0 6 5 0 10 4 10 10 5Z">',dashArray:[2,3,8,3]},{id:"square",marker:'<rect x="1" y="1" width="8" height="8"/>',dashArray:[6]},{id:"star",marker:'<path d="m2 9 3-9 3 9L0 3h10Z"/>',dashArray:[1,6]}];function z(e){return`vis-${`pattern-${e.svg?"fill":"marker"}`}-${e.id}`}var ji=e=>`<mask id="${z(e)}">
    <pattern id="${e.id}" viewBox="0 0 10 10" width="${Ce}" height="${Ce}" patternUnits="userSpaceOnUse">
      <rect width="100%" height="100%" fill="#fff"/>
      ${e.svg}
    </pattern>
    <rect x="-50%" y="-50%" width="200%" height="200%" fill="url(#${e.id})"/>
  </mask>`,en=(e,t)=>`<marker id="${z(e)}"
    fill="var(${N(t)})"
    markerUnits="userSpaceOnUse"
    refX="5"
    refY="5"
    markerWidth="${Ce}"
    markerHeight="${Ce}">
    ${e.marker}
  </marker>`;function tn(){let e=Ae.map(ji).concat(Ee.map(en)).join(""),t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.style.position="fixed",t.style.zIndex="-99999999",t.innerHTML=`<defs>${e}</defs>`,document.body.appendChild(t)}typeof window<"u"&&tn();var Wa=globalThis?.UNOVIS_ICON_FONT_FAMILY||"FontAwesome",rn=globalThis?.UNOVIS_FONT_W2H_RATIO_DEFAULT||.5,Xa=globalThis?.UNOVIS_TEXT_SEPARATOR_DEFAULT||[" ","-",".",","],Ya=globalThis?.UNOVIS_TEXT_HYPHEN_CHARACTER_DEFAULT||"-",Ga=globalThis?.UNOVIS_TEXT_DEFAULT||{text:"",fontSize:12,fontFamily:"var(--vis-font-family)",lineHeight:1.25,marginTop:0,marginBottom:0},Za=rt`
  :root {
    label: vis-root-styles;
    --vis-font-family: Inter, Arial, "Helvetica Neue", Helvetica, sans-serif;
    --vis-font-wh-ratio: ${rn};
    --vis-color-main: var(${N(0)});
    --vis-color-main-light: ${Or(H[0])};
    --vis-color-main-dark: ${Nr(H[0])};
    --vis-color-grey: #2a2a2a;
    ${H.map((e,t)=>`${N(t)}: ${e};`)}
    ${Rr.map((e,t)=>`--vis-dark-color${t}: ${e};`)}
    ${Ae.map((e,t)=>`
      --${z(e)}: url(#${z(e)});
      --vis-pattern-fill${t}: var(--${z(e)});
    `)}
    ${Ee.map((e,t)=>{var r;return`
      --${z(e)}: url(#${z(e)});
      --vis-pattern-marker${t}: var(--${z(e)});
      --vis-pattern-dasharray${t}: ${(r=e.dashArray)===null||r===void 0?void 0:r.join(" ")};
    `})}

    body.theme-dark {
      ${H.map((e,t)=>`${N(t)}: var(--vis-dark-color${t});`)}
    }

    body.theme-patterns {
      ${Ae.map((e,t)=>`path[style*="fill: var(${N(t)})"]  {
        mask: var(--vis-pattern-fill${t});
      }`)}
      ${Ee.map((e,t)=>`
      path[stroke="var(${N(t)})"]:not([style*="fill"]),
      path[style*="stroke: var(${N(t)})"]:not([style*="fill"]) {
        marker: var(--vis-pattern-marker${t});
        stroke-dasharray: var(--vis-pattern-dasharray${t});
      }
    `)}
}
`;var Re=class{constructor(t){this.data=t}get data(){return this._data}set data(t){this._data=t}};var ee;(function(e){e.X="x",e.Y="y"})(ee||(ee={}));var x;(function(e){e.X="x",e.Y="y"})(x||(x={}));var P;(function(e){e.West="west",e.East="east",e.North="north",e.South="south"})(P||(P={}));var zr=Object.assign(Object.assign({},be),{components:[],tooltip:void 0,crosshair:void 0,xAxis:void 0,yAxis:void 0,autoMargin:!0,xScale:void 0,xDomain:void 0,xDomainMinConstraint:void 0,xDomainMaxConstraint:void 0,xRange:void 0,yScale:void 0,yDomain:void 0,yDomainMinConstraint:void 0,yDomainMaxConstraint:void 0,yRange:void 0,yDirection:P.North,preventEmptyDomain:null,scaleByDomain:!1});var te=class extends Y{constructor(t,r,i){var n,o;super(t),this._defaultConfig=zr,this.datamodel=new Re,this.config=this._defaultConfig,this._clipPathId=vr(),this._axisMargin={top:0,bottom:0,left:0,right:0},this._firstRender=!0,this._clipPath=this.svg.append("clipPath").attr("id",this._clipPathId),this._clipPath.append("rect");let s="saturate",a=window.location.href.replace(window.location.hash,"");this.svg.attr("class",it`
      --highlight-filter-id: url(${a}#${s}); // defining a css variable
    `),this._svgDefs.append("filter").attr("id",s).attr("filterUnits","objectBoundingBox").html('<feColorMatrix type="saturate" in="SourceGraphic" values="1.35"/>'),r&&this.updateContainer(r,!0),i&&this.setData(i,!0),(this.config.xAxis||this.config.yAxis||!((n=this.components)===null||n===void 0)&&n.some(l=>l.datamodel.data))&&this.render(),(o=document.fonts)===null||o===void 0||o.ready.then(()=>{this._firstRender||this._renderAxes(0)})}get components(){return this.config.components}get width(){let t=this._getMargin();return D(this.containerWidth-t.left-t.right,0,Number.POSITIVE_INFINITY)}get height(){let t=this._getMargin();return D(this.containerHeight-t.top-t.bottom,0,Number.POSITIVE_INFINITY)}setData(t,r){var i,n,o,s;let{components:a,config:l}=this;t&&(this.datamodel.data=t,a.forEach(f=>{f.setData(t)}),(i=l.crosshair)===null||i===void 0||i.setData(t),(n=l.xAxis)===null||n===void 0||n.setData(t),(o=l.yAxis)===null||o===void 0||o.setData(t),(s=l.tooltip)===null||s===void 0||s.hide(),r||this.render())}updateContainer(t,r){super.updateContainer(t),this._removeAllChildren(),this.setData(this.datamodel.data,!0),t.xAxis&&(this.config.xAxis.config.type=ee.X,this.element.appendChild(t.xAxis.element)),t.yAxis&&(this.config.yAxis.config.type=ee.Y,this.element.appendChild(t.yAxis.element));for(let o of this.components)this.element.appendChild(o.element);let i=t.tooltip;i&&(i.hasContainer()||i.setContainer(this._container),i.setComponents(this.components));let n=t.crosshair;n&&(n.setContainer(this.svg),n.tooltip=i,this.element.appendChild(n.element)),this.element.appendChild(this._clipPath.node()),this.element.appendChild(this._svgDefs.node()),r||this.render()}updateComponents(t,r){let{config:i}=this;this.components.forEach((n,o)=>{t[o]&&n.setConfig(t[o])}),this._updateScales(...this.components,i.xAxis,i.yAxis,i.crosshair),r||this.render()}update(t,r,i){i&&(this.datamodel.data=i),t&&this.updateContainer(t,!0),r&&this.updateComponents(r,!0),this.render()}_preRender(){let{config:t}=this;super._preRender(),t.autoMargin&&this._setAutoMargin(),this._updateScales(...this.components,t.xAxis,t.yAxis,t.crosshair)}_render(t){var r,i,n;let{config:o}=this;super._render();let s=this._getMargin();for(let f of this.components)f.g.attr("transform",`translate(${s.left},${s.top})`).style("clip-path",f.clippable?`url(#${this._clipPathId})`:null).style("-webkit-clip-path",f.clippable?`url(#${this._clipPathId})`:null),f.render(t);this._renderAxes(this._firstRender?0:t);let a=2;this._clipPath.select("rect").attr("x",-a).attr("y",-a).attr("width",this.width+2*a).attr("height",this.height+2*a),(r=o.tooltip)===null||r===void 0||r.update();let l=o.crosshair;if(l){let f=this.components.filter(h=>!h.stacked).map(h=>h.config.y),c=this.components.filter(h=>h.stacked).map(h=>h.config.y),u=(i=this.components.find(h=>h.config.baseline))===null||i===void 0?void 0:i.config,d=u?.baseline;l.accessors={x:(n=this.components[0])===null||n===void 0?void 0:n.config.x,y:Ne(f),yStacked:Ne(c),baseline:d},l.g.attr("transform",`translate(${s.left},${s.top})`).style("clip-path",`url(#${this._clipPathId})`).style("-webkit-clip-path",`url(#${this._clipPathId})`),l.hide()}this._firstRender=!1}_updateScales(...t){let r=U(t||this.components);this._setScales(...r),this._updateScalesDomain(...r),this._updateScalesRange(...r)}_setScales(...t){let{config:r}=this;t&&(r.xScale&&t.forEach(i=>i.setScale(x.X,r.xScale)),r.yScale&&t.forEach(i=>i.setScale(x.Y,r.yScale)))}_updateScalesDomain(...t){let{config:r}=this;if(!t)return;let i=t.filter(n=>!n.config.excludeFromDomainCalculation);Object.values(x).forEach(n=>{var o,s,a,l,f,c,u,d;let[h,m]=Qe(Je(i.map(T=>T.getDataExtent(n,r.scaleByDomain)))),b=n===x.Y?r.yDomain:r.xDomain,g=n===x.Y?r.yDomainMinConstraint:r.xDomainMinConstraint,_=n===x.Y?r.yDomainMaxConstraint:r.xDomainMaxConstraint,w=(s=(o=b?.[0])!==null&&o!==void 0?o:h)!==null&&s!==void 0?s:0,E=(l=(a=b?.[1])!==null&&a!==void 0?a:m)!==null&&l!==void 0?l:1,S=[D(w,(f=g?.[0])!==null&&f!==void 0?f:Number.NEGATIVE_INFINITY,(c=g?.[1])!==null&&c!==void 0?c:Number.POSITIVE_INFINITY),D(E,(u=_?.[0])!==null&&u!==void 0?u:Number.NEGATIVE_INFINITY,(d=_?.[1])!==null&&d!==void 0?d:Number.POSITIVE_INFINITY)];if(S[0]===S[1]){let T=i.some(Oe=>{var V;return((V=Oe.datamodel.data)===null||V===void 0?void 0:V.length)>0});(r.preventEmptyDomain||r.preventEmptyDomain===null&&(!T||n===x.Y))&&(S[1]=S[0]+1)}t.forEach(T=>T.setScaleDomain(n,S))})}_updateScalesRange(...t){var r,i,n,o,s,a;let{config:l}=this;if(!t)return;let f=l.yDirection===P.South,c=[(r=l.padding.left)!==null&&r!==void 0?r:0,(i=this.width-l.padding.right)!==null&&i!==void 0?i:0],u=[(n=this.height-l.padding.bottom)!==null&&n!==void 0?n:0,(o=l.padding.top)!==null&&o!==void 0?o:0];f&&u.reverse();for(let h of t)h.setSize(this.width,this.height,this.containerWidth,this.containerHeight),h.setScaleRange(x.X,(s=l.xRange)!==null&&s!==void 0?s:c),h.setScaleRange(x.Y,(a=l.yRange)!==null&&a!==void 0?a:u);let d=t.map(h=>h.bleed).reduce((h,m)=>{for(let b of Object.keys(h)){let g=b;h[g]<m[g]&&(h[g]=m[g])}return h},{top:0,bottom:0,left:0,right:0});for(let h of t)h.setScaleRange(x.X,[c[0]+d.left,c[1]-d.right]),h.setScaleRange(x.Y,f?[u[0]+d.top,u[1]-d.bottom]:[u[0]-d.bottom,u[1]+d.top])}_renderAxes(t){let{config:{xAxis:r,yAxis:i}}=this,n=this._getMargin();U([r,i]).forEach(s=>{let a=s.getOffset(n);s.g.attr("transform",`translate(${a.left},${a.top})`),s.render(t)})}_setAutoMargin(){let{config:{xAxis:t,yAxis:r}}=this,i=U([...this.components,t,r]);this._updateScalesDomain(...i);let n=this._firstRender?2:1;for(let o=0;o<n;o+=1){let s={top:0,bottom:0,left:0,right:0};this._updateScalesRange(...i),U([t,r]).forEach(l=>{l.preRender();let f=l.getRequiredMargin();s.top<f.top&&(s.top=f.top),s.bottom<f.bottom&&(s.bottom=f.bottom),s.left<f.left&&(s.left=f.left),s.right<f.right&&(s.right=f.right)}),this._axisMargin=s}}_getMargin(){let{config:{margin:t}}=this;return{top:t.top+this._axisMargin.top,bottom:t.bottom+this._axisMargin.bottom,left:t.left+this._axisMargin.left,right:t.right+this._axisMargin.right}}destroy(){let{components:t,config:{tooltip:r,crosshair:i,xAxis:n,yAxis:o}}=this;super.destroy();for(let s of t)s?.destroy();r?.destroy(),i?.destroy(),n?.destroy(),o?.destroy()}};var nn=new te(ref,config,data);setTimeout(()=>{nn.destroy()},1e3);
